(()=>{var Pv=Object.create;var fi=Object.defineProperty;var Av=Object.getOwnPropertyDescriptor;var Cv=Object.getOwnPropertyNames;var Rv=Object.getPrototypeOf,kv=Object.prototype.hasOwnProperty;var s=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Lv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Cv(e))!kv.call(t,i)&&i!==r&&fi(t,i,{get:()=>e[i],enumerable:!(n=Av(e,i))||n.enumerable});return t};var pt=(t,e,r)=>(r=t!=null?Pv(Rv(t)):{},Lv(e||!t||!t.__esModule?fi(r,"default",{value:t,enumerable:!0}):r,t));var We=s((Iq,vi)=>{function Dv(t){return t&&t.__esModule?t:{default:t}}vi.exports=Dv});var pi=s((Pq,hi)=>{function Mv(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}hi.exports=Mv});var di=s((Aq,bi)=>{var Fv=pi();function Nv(t,e){if(t==null)return{};var r=Fv(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}bi.exports=Nv});var _i=s((Cq,yi)=>{function Uv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}yi.exports=Uv});var Si=s((Rq,Oi)=>{function mi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bv(t,e,r){return e&&mi(t.prototype,e),r&&mi(t,r),t}Oi.exports=Bv});var gi=s((kq,wi)=>{function $v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}wi.exports=$v});var N=s(xi=>{"use strict";var Gv=typeof window<"u"&&window,Wv=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,Vv=typeof global<"u"&&global,qi=Gv||Vv||Wv;xi.root=qi;(function(){if(!qi)throw new Error("RxJS could not find any global context (window, self, global)")})()});var bt=s(Ei=>{"use strict";function Kv(t){return typeof t=="function"}Ei.isFunction=Kv});var be=s(Ti=>{"use strict";Ti.isArray=Array.isArray||function(t){return t&&typeof t.length=="number"}});var dt=s(ji=>{"use strict";function Yv(t){return t!=null&&typeof t=="object"}ji.isObject=Yv});var de=s(Ii=>{"use strict";Ii.errorObject={e:{}}});var Ve=s(Ci=>{"use strict";var Pi=de(),Ai;function Hv(){try{return Ai.apply(this,arguments)}catch(t){return Pi.errorObject.e=t,Pi.errorObject}}function zv(t){return Ai=t,Hv}Ci.tryCatch=zv});var Ri=s(Ke=>{"use strict";var Xv=Ke&&Ke.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Jv=function(t){Xv(e,t);function e(r){t.call(this),this.errors=r;var n=Error.call(this,r?r.length+` errors occurred during unsubscription:
  `+r.map(function(i,o){return o+1+") "+i.toString()}).join(`
  `):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return e}(Error);Ke.UnsubscriptionError=Jv});var ie=s(Di=>{"use strict";var Zv=be(),Qv=dt(),eh=bt(),ki=Ve(),ne=de(),Ye=Ri(),rh=function(){function t(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e=!1,r;if(!this.closed){var n=this,i=n._parent,o=n._parents,a=n._unsubscribe,u=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var c=-1,l=o?o.length:0;i;)i.remove(this),i=++c<l&&o[c]||null;if(eh.isFunction(a)){var f=ki.tryCatch(a).call(this);f===ne.errorObject&&(e=!0,r=r||(ne.errorObject.e instanceof Ye.UnsubscriptionError?Li(ne.errorObject.e.errors):[ne.errorObject.e]))}if(Zv.isArray(u))for(c=-1,l=u.length;++c<l;){var p=u[c];if(Qv.isObject(p)){var f=ki.tryCatch(p.unsubscribe).call(p);if(f===ne.errorObject){e=!0,r=r||[];var v=ne.errorObject.e;v instanceof Ye.UnsubscriptionError?r=r.concat(Li(v.errors)):r.push(v)}}}if(e)throw new Ye.UnsubscriptionError(r)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(typeof r._addParent!="function"){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=this._subscriptions||(this._subscriptions=[]);return i.push(r),r._addParent(this),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.prototype._addParent=function(e){var r=this,n=r._parent,i=r._parents;!n||n===e?this._parent=e:i?i.indexOf(e)===-1&&i.push(e):this._parents=[e]},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();Di.Subscription=rh;function Li(t){return t.reduce(function(e,r){return e.concat(r instanceof Ye.UnsubscriptionError?r.errors:r)},[])}});var yt=s(Mi=>{"use strict";Mi.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}});var ze=s(He=>{"use strict";var th=N(),_t=th.root.Symbol;He.rxSubscriber=typeof _t=="function"&&typeof _t.for=="function"?_t.for("rxSubscriber"):"@@rxSubscriber";He.$$rxSubscriber=He.rxSubscriber});var E=s(Xe=>{"use strict";var Ui=Xe&&Xe.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Fi=bt(),nh=ie(),mt=yt(),Ot=ze(),St=function(t){Ui(e,t);function e(r,n,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=mt.empty;break;case 1:if(!r){this.destination=mt.empty;break}if(typeof r=="object"){if(ih(r)){var o=r[Ot.rxSubscriber]();this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)}else this.syncErrorThrowable=!0,this.destination=new Ni(this,r);break}default:this.syncErrorThrowable=!0,this.destination=new Ni(this,r,n,i);break}}return e.prototype[Ot.rxSubscriber]=function(){return this},e.create=function(r,n,i){var o=new e(r,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this,n=r._parent,i=r._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=n,this._parents=i,this},e}(nh.Subscription);Xe.Subscriber=St;var Ni=function(t){Ui(e,t);function e(r,n,i,o){t.call(this),this._parentSubscriber=r;var a,u=this;Fi.isFunction(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==mt.empty&&(u=Object.create(n),Fi.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=a,this._error=i,this._complete=o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;n.syncErrorThrowable?this.__tryOrSetError(n,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber;if(this._error)n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)n.syncErrorValue=r,n.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),r}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};n.syncErrorThrowable?(this.__tryOrSetError(n,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){throw this.unsubscribe(),i}},e.prototype.__tryOrSetError=function(r,n,i){try{n.call(this._context,i)}catch(o){return r.syncErrorValue=o,r.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(St);function ih(t){return t instanceof St||"syncErrorThrowable"in t&&t[Ot.rxSubscriber]}});var Gi=s($i=>{"use strict";var wt=E(),Bi=ze(),oh=yt();function sh(t,e,r){if(t){if(t instanceof wt.Subscriber)return t;if(t[Bi.rxSubscriber])return t[Bi.rxSubscriber]()}return!t&&!e&&!r?new wt.Subscriber(oh.empty):new wt.Subscriber(t,e,r)}$i.toSubscriber=sh});var Je=s(ye=>{"use strict";var ah=N();function Wi(t){var e,r=t.Symbol;return typeof r=="function"?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}ye.getSymbolObservable=Wi;ye.observable=Wi(ah.root);ye.$$observable=ye.observable});var Ki=s(Vi=>{"use strict";function uh(){}Vi.noop=uh});var Hi=s(gt=>{"use strict";var ch=Ki();function lh(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Yi(t)}gt.pipe=lh;function Yi(t){return t?t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}:ch.noop}gt.pipeFromArray=Yi});var d=s(zi=>{"use strict";var A=N(),fh=Gi(),vh=Je(),hh=Hi(),ph=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,o=fh.toSubscriber(e,r,n);if(i?i.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.syncErrorThrown=!0,e.syncErrorValue=r,e.error(r)}},t.prototype.forEach=function(e,r){var n=this;if(r||(A.root.Rx&&A.root.Rx.config&&A.root.Rx.config.Promise?r=A.root.Rx.config.Promise:A.root.Promise&&(r=A.root.Promise)),!r)throw new Error("no Promise impl found");return new r(function(i,o){var a;a=n.subscribe(function(u){if(a)try{e(u)}catch(c){o(c),a.unsubscribe()}else e(u)},o,i)})},t.prototype._subscribe=function(e){return this.source.subscribe(e)},t.prototype[vh.observable]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return e.length===0?this:hh.pipeFromArray(e)(this)},t.prototype.toPromise=function(e){var r=this;if(e||(A.root.Rx&&A.root.Rx.config&&A.root.Rx.config.Promise?e=A.root.Rx.config.Promise:A.root.Promise&&(e=A.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();zi.Observable=ph});var qt=s(Ze=>{"use strict";var bh=Ze&&Ze.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},dh=function(t){bh(e,t);function e(){var r=t.call(this,"object unsubscribed");this.name=r.name="ObjectUnsubscribedError",this.stack=r.stack,this.message=r.message}return e}(Error);Ze.ObjectUnsubscribedError=dh});var Xi=s(Qe=>{"use strict";var yh=Qe&&Qe.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},_h=ie(),mh=function(t){yh(e,t);function e(r,n){t.call(this),this.subject=r,this.subscriber=n,this.closed=!1}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(_h.Subscription);Qe.SubjectSubscription=mh});var me=s(oe=>{"use strict";var Tt=oe&&oe.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Ji=d(),Oh=E(),xt=ie(),_e=qt(),Sh=Xi(),wh=ze(),Zi=function(t){Tt(e,t);function e(r){t.call(this,r),this.destination=r}return e}(Oh.Subscriber);oe.SubjectSubscriber=Zi;var Qi=function(t){Tt(e,t);function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return e.prototype[wh.rxSubscriber]=function(){return new Zi(this)},e.prototype.lift=function(r){var n=new Et(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new _e.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),a=0;a<i;a++)o[a].next(r)},e.prototype.error=function(r){if(this.closed)throw new _e.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),a=0;a<i;a++)o[a].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new _e.ObjectUnsubscribedError;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new _e.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new _e.ObjectUnsubscribedError;return this.hasError?(r.error(this.thrownError),xt.Subscription.EMPTY):this.isStopped?(r.complete(),xt.Subscription.EMPTY):(this.observers.push(r),new Sh.SubjectSubscription(this,r))},e.prototype.asObservable=function(){var r=new Ji.Observable;return r.source=this,r},e.create=function(r,n){return new Et(r,n)},e}(Ji.Observable);oe.Subject=Qi;var Et=function(t){Tt(e,t);function e(r,n){t.call(this),this.destination=r,this.source=n}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):xt.Subscription.EMPTY},e}(Qi);oe.AnonymousSubject=Et});var eo=s(er=>{"use strict";var gh=er&&er.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},qh=me(),xh=qt(),Eh=function(t){gh(e,t);function e(r){t.call(this),this._value=r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new xh.ObjectUnsubscribedError;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(qh.Subject);er.BehaviorSubject=Eh});var Oe=s(rr=>{"use strict";var Th=rr&&rr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},jh=E(),Ih=function(t){Th(e,t);function e(){t.apply(this,arguments)}return e.prototype.notifyNext=function(r,n,i,o,a){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(jh.Subscriber);rr.OuterSubscriber=Ih});var jt=s(ro=>{"use strict";ro.isArrayLike=function(t){return t&&typeof t.length=="number"}});var It=s(to=>{"use strict";function Ph(t){return t&&typeof t.subscribe!="function"&&typeof t.then=="function"}to.isPromise=Ph});var tr=s(Se=>{"use strict";var Ah=N();function no(t){var e=t.Symbol;if(typeof e=="function")return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var r=t.Set;if(r&&typeof new r()["@@iterator"]=="function")return"@@iterator";var n=t.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),o=0;o<i.length;++o){var a=i[o];if(a!=="entries"&&a!=="size"&&n.prototype[a]===n.prototype.entries)return a}return"@@iterator"}Se.symbolIteratorPonyfill=no;Se.iterator=no(Ah.root);Se.$$iterator=Se.iterator});var io=s(nr=>{"use strict";var Ch=nr&&nr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Rh=E(),kh=function(t){Ch(e,t);function e(r,n,i){t.call(this),this.parent=r,this.outerValue=n,this.outerIndex=i,this.index=0}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Rh.Subscriber);nr.InnerSubscriber=kh});var we=s(uo=>{"use strict";var Lh=N(),Dh=jt(),Mh=It(),Fh=dt(),Nh=d(),oo=tr(),so=io(),ao=Je();function Uh(t,e,r,n){var i=new so.InnerSubscriber(t,r,n);if(i.closed)return null;if(e instanceof Nh.Observable)return e._isScalar?(i.next(e.value),i.complete(),null):(i.syncErrorThrowable=!0,e.subscribe(i));if(Dh.isArrayLike(e)){for(var o=0,a=e.length;o<a&&!i.closed;o++)i.next(e[o]);i.closed||i.complete()}else{if(Mh.isPromise(e))return e.then(function(v){i.closed||(i.next(v),i.complete())},function(v){return i.error(v)}).then(null,function(v){Lh.root.setTimeout(function(){throw v})}),i;if(e&&typeof e[oo.iterator]=="function"){var u=e[oo.iterator]();do{var c=u.next();if(c.done){i.complete();break}if(i.next(c.value),i.closed)break}while(!0)}else if(e&&typeof e[ao.observable]=="function"){var l=e[ao.observable]();if(typeof l.subscribe!="function")i.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return l.subscribe(new so.InnerSubscriber(t,r,n))}else{var f=Fh.isObject(e)?"an invalid object":"'"+e+"'",p="You provided "+f+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";i.error(new TypeError(p))}}return null}uo.subscribeToResult=Uh});var co=s(ir=>{"use strict";var Bh=ir&&ir.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},$h=Oe(),Gh=we();function Wh(t){return function(r){var n=new Vh(t),i=r.lift(n);return n.caught=i}}ir.catchError=Wh;var Vh=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new Kh(e,this.selector,this.caught))},t}(),Kh=function(t){Bh(e,t);function e(r,n,i){t.call(this,r),this.selector=n,this.caught=i}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(i){t.prototype.error.call(this,i);return}this._unsubscribeAndRecycle(),this.add(Gh.subscribeToResult(this,n))}},e}($h.OuterSubscriber)});var fo=s(lo=>{"use strict";var Yh=co();function Hh(t){return Yh.catchError(t)(this)}lo._catch=Hh});var po=s(()=>{"use strict";var vo=d(),ho=fo();vo.Observable.prototype.catch=ho._catch;vo.Observable.prototype._catch=ho._catch});var Pt=s(or=>{"use strict";var zh=or&&or.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Xh=d(),Jh=function(t){zh(e,t);function e(r,n){t.call(this),this.value=r,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return e.create=function(r,n){return new e(r,n)},e.dispatch=function(r){var n=r.done,i=r.value,o=r.subscriber;if(n){o.complete();return}o.next(i),!o.closed&&(r.done=!0,this.schedule(r))},e.prototype._subscribe=function(r){var n=this.value,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{done:!1,value:n,subscriber:r});r.next(n),r.closed||r.complete()},e}(Xh.Observable);or.ScalarObservable=Jh});var ge=s(sr=>{"use strict";var Zh=sr&&sr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Qh=d(),ep=function(t){Zh(e,t);function e(r){t.call(this),this.scheduler=r}return e.create=function(r){return new e(r)},e.dispatch=function(r){var n=r.subscriber;n.complete()},e.prototype._subscribe=function(r){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:r});r.complete()},e}(Qh.Observable);sr.EmptyObservable=ep});var yo=s(bo=>{"use strict";function rp(t){return t&&typeof t.schedule=="function"}bo.isScheduler=rp});var ur=s(ar=>{"use strict";var tp=ar&&ar.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},np=d(),ip=Pt(),op=ge(),sp=yo(),ap=function(t){tp(e,t);function e(r,n){t.call(this),this.array=r,this.scheduler=n,!n&&r.length===1&&(this._isScalar=!0,this.value=r[0])}return e.create=function(r,n){return new e(r,n)},e.of=function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=r[r.length-1];sp.isScheduler(i)?r.pop():i=null;var o=r.length;return o>1?new e(r,i):o===1?new ip.ScalarObservable(r[0],i):new op.EmptyObservable(i)},e.dispatch=function(r){var n=r.array,i=r.index,o=r.count,a=r.subscriber;if(i>=o){a.complete();return}a.next(n[i]),!a.closed&&(r.index=i+1,this.schedule(r))},e.prototype._subscribe=function(r){var n=0,i=this.array,o=i.length,a=this.scheduler;if(a)return a.schedule(e.dispatch,0,{array:i,index:n,count:o,subscriber:r});for(var u=0;u<o&&!r.closed;u++)r.next(i[u]);r.complete()},e}(np.Observable);ar.ArrayObservable=ap});var So=s(se=>{"use strict";var up=se&&se.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},cp=ur(),lp=be(),fp=Oe(),vp=we(),_o={};function hp(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&lp.isArray(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(new cp.ArrayObservable([n].concat(t)),new mo(r))}}se.combineLatest=hp;var mo=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Oo(e,this.project))},t}();se.CombineLatestOperator=mo;var Oo=function(t){up(e,t);function e(r,n){t.call(this,r),this.project=n,this.active=0,this.values=[],this.observables=[]}return e.prototype._next=function(r){this.values.push(_o),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=r[i];this.add(vp.subscribeToResult(this,o,o,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i,o,a){var u=this.values,c=u[i],l=this.toRespond?c===_o?--this.toRespond:this.toRespond:0;u[i]=n,l===0&&(this.project?this._tryProject(u):this.destination.next(u.slice()))},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(fp.OuterSubscriber);se.CombineLatestSubscriber=Oo});var go=s(wo=>{"use strict";var pp=So();function bp(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return pp.combineLatest.apply(void 0,t)(this)}wo.combineLatest=bp});var qo=s(()=>{"use strict";var dp=d(),yp=go();dp.Observable.prototype.combineLatest=yp.combineLatest});var xo=s(cr=>{"use strict";var _p=cr&&cr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},mp=E();function Op(t){return function(e){return e.lift(new Sp(t,e))}}cr.count=Op;var Sp=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new wp(e,this.predicate,this.source))},t}(),wp=function(t){_p(e,t);function e(r,n,i){t.call(this,r),this.predicate=n,this.source=i,this.count=0,this.index=0}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(mp.Subscriber)});var To=s(Eo=>{"use strict";var gp=xo();function qp(t){return gp.count(t)(this)}Eo.count=qp});var jo=s(()=>{"use strict";var xp=d(),Ep=To();xp.Observable.prototype.count=Ep.count});var Io=s(lr=>{"use strict";var Tp=lr&&lr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},jp=ie(),Ip=function(t){Tp(e,t);function e(r,n){t.call(this)}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},e}(jp.Subscription);lr.Action=Ip});var Ao=s(fr=>{"use strict";var Pp=fr&&fr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Po=N(),Ap=Io(),Cp=function(t){Pp(e,t);function e(r,n){t.call(this,r,n),this.scheduler=r,this.pending=!1,this.work=n}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r,this.pending=!0;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),Po.root.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1?n:Po.root.clearInterval(n)&&void 0||void 0},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o=void 0;try{this.work(r)}catch(a){i=!0,o=!!a&&a||new Error(a)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(Ap.Action);fr.AsyncAction=Cp});var Ro=s(Co=>{"use strict";var Rp=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=Date.now?Date.now:function(){return+new Date},t}();Co.Scheduler=Rp});var ko=s(vr=>{"use strict";var kp=vr&&vr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Lp=Ro(),Dp=function(t){kp(e,t);function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Lp.Scheduler);vr.AsyncScheduler=Dp});var hr=s(Lo=>{"use strict";var Mp=Ao(),Fp=ko();Lo.async=new Fp.AsyncScheduler(Mp.AsyncAction)});var Mo=s(Do=>{"use strict";function Np(t){return t instanceof Date&&!isNaN(+t)}Do.isDate=Np});var Ct=s(Fo=>{"use strict";var At=d(),Up=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return At.Observable.of(this.value);case"E":return At.Observable.throw(this.error);case"C":return At.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();Fo.Notification=Up});var Uo=s(pr=>{"use strict";var Bp=pr&&pr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},$p=hr(),Gp=Mo(),Wp=E(),No=Ct();function Vp(t,e){e===void 0&&(e=$p.async);var r=Gp.isDate(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new Kp(n,e))}}pr.delay=Vp;var Kp=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Yp(e,this.delay,this.scheduler))},t}(),Yp=function(t){Bp(e,t);function e(r,n,i){t.call(this,r),this.delay=n,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}return e.dispatch=function(r){for(var n=r.source,i=n.queue,o=r.scheduler,a=r.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(a);if(i.length>0){var u=Math.max(0,i[0].time-o.now());this.schedule(r,u)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0,this.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Hp(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(No.Notification.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r)},e.prototype._complete=function(){this.scheduleNotification(No.Notification.createComplete())},e}(Wp.Subscriber),Hp=function(){function t(e,r){this.time=e,this.notification=r}return t}()});var $o=s(Bo=>{"use strict";var zp=hr(),Xp=Uo();function Jp(t,e){return e===void 0&&(e=zp.async),Xp.delay(t,e)(this)}Bo.delay=Jp});var Go=s(()=>{"use strict";var Zp=d(),Qp=$o();Zp.Observable.prototype.delay=Qp.delay});var Vo=s(br=>{"use strict";var eb=br&&br.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Wo=E();function rb(t,e,r){return function(i){return i.lift(new tb(t,e,r))}}br.tap=rb;var tb=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new nb(e,this.nextOrObserver,this.error,this.complete))},t}(),nb=function(t){eb(e,t);function e(r,n,i,o){t.call(this,r);var a=new Wo.Subscriber(n,i,o);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return e.prototype._next=function(r){var n=this.safeSubscriber;n.next(r),n.syncErrorThrown?this.destination.error(n.syncErrorValue):this.destination.next(r)},e.prototype._error=function(r){var n=this.safeSubscriber;n.error(r),n.syncErrorThrown?this.destination.error(n.syncErrorValue):this.destination.error(r)},e.prototype._complete=function(){var r=this.safeSubscriber;r.complete(),r.syncErrorThrown?this.destination.error(r.syncErrorValue):this.destination.complete()},e}(Wo.Subscriber)});var Yo=s(Ko=>{"use strict";var ib=Vo();function ob(t,e,r){return ib.tap(t,e,r)(this)}Ko._do=ob});var Xo=s(()=>{"use strict";var Ho=d(),zo=Yo();Ho.Observable.prototype.do=zo._do;Ho.Observable.prototype._do=zo._do});var Jo=s(dr=>{"use strict";var sb=dr&&dr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},ab=E();function ub(t,e){return function(n){return n.lift(new cb(t,e))}}dr.filter=ub;var cb=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new lb(e,this.predicate,this.thisArg))},t}(),lb=function(t){sb(e,t);function e(r,n,i){t.call(this,r),this.predicate=n,this.thisArg=i,this.count=0}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(ab.Subscriber)});var Qo=s(Zo=>{"use strict";var fb=Jo();function vb(t,e){return fb.filter(t,e)(this)}Zo.filter=vb});var es=s(()=>{"use strict";var hb=d(),pb=Qo();hb.Observable.prototype.filter=pb.filter});var Rt=s(qe=>{"use strict";var bb=qe&&qe.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},db=E();function yb(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new rs(t,e))}}qe.map=yb;var rs=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new _b(e,this.project,this.thisArg))},t}();qe.MapOperator=rs;var _b=function(t){bb(e,t);function e(r,n,i){t.call(this,r),this.project=n,this.count=0,this.thisArg=i||this}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(db.Subscriber)});var ns=s(ts=>{"use strict";var mb=Rt();function Ob(t,e){return mb.map(t,e)(this)}ts.map=Ob});var is=s(()=>{"use strict";var Sb=d(),wb=ns();Sb.Observable.prototype.map=wb.map});var as=s(ae=>{"use strict";var gb=ae&&ae.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},qb=we(),xb=Oe();function Eb(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(i){return typeof e=="number"&&(r=e,e=null),i.lift(new os(t,e,r))}}ae.mergeMap=Eb;var os=function(){function t(e,r,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new ss(e,this.project,this.resultSelector,this.concurrent))},t}();ae.MergeMapOperator=os;var ss=function(t){gb(e,t);function e(r,n,i,o){o===void 0&&(o=Number.POSITIVE_INFINITY),t.call(this,r),this.project=n,this.resultSelector=i,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n,r,i)},e.prototype._innerSub=function(r,n,i){this.add(qb.subscribeToResult(this,r,n,i))},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i,o,a){this.resultSelector?this._notifyResultSelector(r,n,i,o):this.destination.next(n)},e.prototype._notifyResultSelector=function(r,n,i,o){var a;try{a=this.resultSelector(r,n,i,o)}catch(u){this.destination.error(u);return}this.destination.next(a)},e.prototype.notifyComplete=function(r){var n=this.buffer;this.remove(r),this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(xb.OuterSubscriber);ae.MergeMapSubscriber=ss});var cs=s(us=>{"use strict";var Tb=as();function jb(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),Tb.mergeMap(t,e,r)(this)}us.mergeMap=jb});var vs=s(()=>{"use strict";var ls=d(),fs=cs();ls.Observable.prototype.mergeMap=fs.mergeMap;ls.Observable.prototype.flatMap=fs.mergeMap});var ps=s(yr=>{"use strict";var Ib=yr&&yr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Pb=me(),Ab=Ve(),hs=de(),Cb=Oe(),Rb=we();function kb(t){return function(e){return e.lift(new Lb(t,e))}}yr.retryWhen=kb;var Lb=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Db(e,this.notifier,this.source))},t}(),Db=function(t){Ib(e,t);function e(r,n,i){t.call(this,r),this.notifier=n,this.source=i}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{if(n=new Pb.Subject,i=Ab.tryCatch(this.notifier)(n),i===hs.errorObject)return t.prototype.error.call(this,hs.errorObject.e);o=Rb.subscribeToResult(this,i)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=null),i&&(i.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(r,n,i,o,a){var u=this,c=u.errors,l=u.retries,f=u.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=c,this.retries=l,this.retriesSubscription=f,this.source.subscribe(this)},e}(Cb.OuterSubscriber)});var ds=s(bs=>{"use strict";var Mb=ps();function Fb(t){return Mb.retryWhen(t)(this)}bs.retryWhen=Fb});var ys=s(()=>{"use strict";var Nb=d(),Ub=ds();Nb.Observable.prototype.retryWhen=Ub.retryWhen});var kt=s(_r=>{"use strict";var Bb=_r&&_r.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},$b=E();function Gb(){return function(e){return e.lift(new Wb(e))}}_r.refCount=Gb;var Wb=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Vb(e,n),o=r.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),Vb=function(t){Bb(e,t);function e(r,n){t.call(this,r),this.connectable=n}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=r._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}($b.Subscriber)});var Os=s(Ee=>{"use strict";var Lt=Ee&&Ee.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Kb=me(),Yb=d(),Hb=E(),_s=ie(),zb=kt(),ms=function(t){Lt(e,t);function e(r,n){t.call(this),this.source=r,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new _s.Subscription,r.add(this.source.subscribe(new Xb(this.getSubject(),this))),r.closed?(this._connection=null,r=_s.Subscription.EMPTY):this._connection=r),r},e.prototype.refCount=function(){return zb.refCount()(this)},e}(Yb.Observable);Ee.ConnectableObservable=ms;var xe=ms.prototype;Ee.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:xe._subscribe},_isComplete:{value:xe._isComplete,writable:!0},getSubject:{value:xe.getSubject},connect:{value:xe.connect},refCount:{value:xe.refCount}};var Xb=function(t){Lt(e,t);function e(r,n){t.call(this,r),this.connectable=n}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Kb.SubjectSubscriber),rE=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Jb(e,n),o=r.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),Jb=function(t){Lt(e,t);function e(r,n){t.call(this,r),this.connectable=n}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=r._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(Hb.Subscriber)});var ws=s(Dt=>{"use strict";var Zb=Os();function Qb(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Ss(i,e));var o=Object.create(n,Zb.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o}}Dt.multicast=Qb;var Ss=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(r.subscribe(i)),o},t}();Dt.MulticastOperator=Ss});var qs=s(gs=>{"use strict";var ed=ws(),rd=kt(),td=me();function nd(){return new td.Subject}function id(){return function(t){return rd.refCount()(ed.multicast(nd)(t))}}gs.share=id});var Es=s(xs=>{"use strict";var od=qs();function sd(){return od.share()(this)}xs.share=sd});var Ts=s(()=>{"use strict";var ad=d(),ud=Es();ad.Observable.prototype.share=ud.share});var js=s(mr=>{"use strict";var cd=mr&&mr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},ld=function(t){cd(e,t);function e(){var r=t.call(this,"argument out of range");this.name=r.name="ArgumentOutOfRangeError",this.stack=r.stack,this.message=r.message}return e}(Error);mr.ArgumentOutOfRangeError=ld});var Is=s(Or=>{"use strict";var fd=Or&&Or.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},vd=E(),hd=js(),pd=ge();function bd(t){return function(e){return t===0?new pd.EmptyObservable:e.lift(new dd(t))}}Or.take=bd;var dd=function(){function t(e){if(this.total=e,this.total<0)throw new hd.ArgumentOutOfRangeError}return t.prototype.call=function(e,r){return r.subscribe(new yd(e,this.total))},t}(),yd=function(t){fd(e,t);function e(r,n){t.call(this,r),this.total=n,this.count=0}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(vd.Subscriber)});var As=s(Ps=>{"use strict";var _d=Is();function md(t){return _d.take(t)(this)}Ps.take=md});var Cs=s(()=>{"use strict";var Od=d(),Sd=As();Od.Observable.prototype.take=Sd.take});var Gs=s(T=>{"use strict";var wr=T&&T.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},I=N(),Te=Ve(),ue=de(),wd=d(),gd=E(),qd=Rt();function xd(){if(I.root.XMLHttpRequest)return new I.root.XMLHttpRequest;if(I.root.XDomainRequest)return new I.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function Ed(){if(I.root.XMLHttpRequest)return new I.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(t=e[r],new I.root.ActiveXObject(t))break}catch{}return new I.root.ActiveXObject(t)}catch{throw new Error("XMLHttpRequest is not supported by your browser")}}function Rs(t,e){return e===void 0&&(e=null),new X({method:"GET",url:t,headers:e})}T.ajaxGet=Rs;function ks(t,e,r){return new X({method:"POST",url:t,body:e,headers:r})}T.ajaxPost=ks;function Ls(t,e){return new X({method:"DELETE",url:t,headers:e})}T.ajaxDelete=Ls;function Ds(t,e,r){return new X({method:"PUT",url:t,body:e,headers:r})}T.ajaxPut=Ds;function Ms(t,e,r){return new X({method:"PATCH",url:t,body:e,headers:r})}T.ajaxPatch=Ms;var Td=qd.map(function(t,e){return t.response});function Fs(t,e){return Td(new X({method:"GET",url:t,responseType:"json",headers:e}))}T.ajaxGetJSON=Fs;var X=function(t){wr(e,t);function e(r){t.call(this);var n={async:!0,createXHR:function(){return this.crossDomain?xd.call(this):Ed()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if(typeof r=="string")n.url=r;else for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);this.request=n}return e.prototype._subscribe=function(r){return new Ns(r,this.request)},e.create=function(){var r=function(n){return new e(n)};return r.get=Rs,r.post=ks,r.delete=Ls,r.put=Ds,r.patch=Ms,r.getJSON=Fs,r}(),e}(wd.Observable);T.AjaxObservable=X;var Ns=function(t){wr(e,t);function e(r,n){t.call(this,r),this.request=n,this.done=!1;var i=n.headers=n.headers||{};!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest"),!("Content-Type"in i)&&!(I.root.FormData&&n.body instanceof I.root.FormData)&&typeof n.body<"u"&&(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=this.serializeBody(n.body,n.headers["Content-Type"]),this.send()}return e.prototype.next=function(r){this.done=!0;var n=this,i=n.xhr,o=n.request,a=n.destination,u=new Us(r,i,o);a.next(u)},e.prototype.send=function(){var r=this,n=r.request,i=r.request,o=i.user,a=i.method,u=i.url,c=i.async,l=i.password,f=i.headers,p=i.body,v=n.createXHR,b=Te.tryCatch(v).call(n);if(b===ue.errorObject)this.error(ue.errorObject.e);else{this.xhr=b,this.setupEvents(b,n);var h=void 0;if(o?h=Te.tryCatch(b.open).call(b,a,u,c,o,l):h=Te.tryCatch(b.open).call(b,a,u,c),h===ue.errorObject)return this.error(ue.errorObject.e),null;if(c&&(b.timeout=n.timeout,b.responseType=n.responseType),"withCredentials"in b&&(b.withCredentials=!!n.withCredentials),this.setHeaders(b,f),h=p?Te.tryCatch(b.send).call(b,p):Te.tryCatch(b.send).call(b),h===ue.errorObject)return this.error(ue.errorObject.e),null}return b},e.prototype.serializeBody=function(r,n){if(!r||typeof r=="string")return r;if(I.root.FormData&&r instanceof I.root.FormData)return r;if(n){var i=n.indexOf(";");i!==-1&&(n=n.substring(0,i))}switch(n){case"application/x-www-form-urlencoded":return Object.keys(r).map(function(o){return encodeURIComponent(o)+"="+encodeURIComponent(r[o])}).join("&");case"application/json":return JSON.stringify(r);default:return r}},e.prototype.setHeaders=function(r,n){for(var i in n)n.hasOwnProperty(i)&&r.setRequestHeader(i,n[i])},e.prototype.setupEvents=function(r,n){var i=n.progressSubscriber;function o(l){var f=o,p=f.subscriber,v=f.progressSubscriber,b=f.request;v&&v.error(l),p.error(new $s(this,b))}if(r.ontimeout=o,o.request=n,o.subscriber=this,o.progressSubscriber=i,r.upload&&"withCredentials"in r){if(i){var a;a=function(l){var f=a.progressSubscriber;f.next(l)},I.root.XDomainRequest?r.onprogress=a:r.upload.onprogress=a,a.progressSubscriber=i}var u;u=function(l){var f=u,p=f.progressSubscriber,v=f.subscriber,b=f.request;p&&p.error(l),v.error(new Sr("ajax error",this,b))},r.onerror=u,u.request=n,u.subscriber=this,u.progressSubscriber=i}function c(l){var f=c,p=f.subscriber,v=f.progressSubscriber,b=f.request;if(this.readyState===4){var h=this.status===1223?204:this.status,P=this.responseType==="text"?this.response||this.responseText:this.response;h===0&&(h=P?200:0),200<=h&&h<300?(v&&v.complete(),p.next(l),p.complete()):(v&&v.error(l),p.error(new Sr("ajax error "+h,this,b)))}}r.onreadystatechange=c,c.subscriber=this,c.progressSubscriber=i,c.request=n},e.prototype.unsubscribe=function(){var r=this,n=r.done,i=r.xhr;!n&&i&&i.readyState!==4&&typeof i.abort=="function"&&i.abort(),t.prototype.unsubscribe.call(this)},e}(gd.Subscriber);T.AjaxSubscriber=Ns;var Us=function(){function t(e,r,n){this.originalEvent=e,this.xhr=r,this.request=n,this.status=r.status,this.responseType=r.responseType||n.responseType,this.response=Bs(this.responseType,r)}return t}();T.AjaxResponse=Us;var Sr=function(t){wr(e,t);function e(r,n,i){t.call(this,r),this.message=r,this.xhr=n,this.request=i,this.status=n.status,this.responseType=n.responseType||i.responseType,this.response=Bs(this.responseType,n)}return e}(Error);T.AjaxError=Sr;function Bs(t,e){switch(t){case"json":return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null");case"xml":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}}var $s=function(t){wr(e,t);function e(r,n){t.call(this,"ajax timeout",r,n)}return e}(Sr);T.AjaxTimeoutError=$s});var Vs=s(Ws=>{"use strict";var jd=Gs();Ws.ajax=jd.AjaxObservable.create});var Ks=s(()=>{"use strict";var Id=d(),Pd=Vs();Id.Observable.ajax=Pd.ajax});var Hs=s(Ys=>{"use strict";var Ad=ge();Ys.empty=Ad.EmptyObservable.create});var zs=s(()=>{"use strict";var Cd=d(),Rd=Hs();Cd.Observable.empty=Rd.empty});var Zs=s(gr=>{"use strict";var kd=gr&&gr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Xs=N(),Ld=d(),Dd=function(t){kd(e,t);function e(r,n){t.call(this),this.promise=r,this.scheduler=n}return e.create=function(r,n){return new e(r,n)},e.prototype._subscribe=function(r){var n=this,i=this.promise,o=this.scheduler;if(o==null)this._isScalar?r.closed||(r.next(this.value),r.complete()):i.then(function(a){n.value=a,n._isScalar=!0,r.closed||(r.next(a),r.complete())},function(a){r.closed||r.error(a)}).then(null,function(a){Xs.root.setTimeout(function(){throw a})});else if(this._isScalar){if(!r.closed)return o.schedule(Js,0,{value:this.value,subscriber:r})}else i.then(function(a){n.value=a,n._isScalar=!0,r.closed||r.add(o.schedule(Js,0,{value:a,subscriber:r}))},function(a){r.closed||r.add(o.schedule(Md,0,{err:a,subscriber:r}))}).then(null,function(a){Xs.root.setTimeout(function(){throw a})})},e}(Ld.Observable);gr.PromiseObservable=Dd;function Js(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function Md(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}});var ea=s(xr=>{"use strict";var Fd=xr&&xr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Nd=N(),Ud=d(),qr=tr(),Bd=function(t){Fd(e,t);function e(r,n){if(t.call(this),this.scheduler=n,r==null)throw new Error("iterator cannot be null.");this.iterator=Wd(r)}return e.create=function(r,n){return new e(r,n)},e.dispatch=function(r){var n=r.index,i=r.hasError,o=r.iterator,a=r.subscriber;if(i){a.error(r.error);return}var u=o.next();if(u.done){a.complete();return}if(a.next(u.value),r.index=n+1,a.closed){typeof o.return=="function"&&o.return();return}this.schedule(r)},e.prototype._subscribe=function(r){var n=0,i=this,o=i.iterator,a=i.scheduler;if(a)return a.schedule(e.dispatch,0,{index:n,iterator:o,subscriber:r});do{var u=o.next();if(u.done){r.complete();break}else r.next(u.value);if(r.closed){typeof o.return=="function"&&o.return();break}}while(!0)},e}(Ud.Observable);xr.IteratorObservable=Bd;var $d=function(){function t(e,r,n){r===void 0&&(r=0),n===void 0&&(n=e.length),this.str=e,this.idx=r,this.len=n}return t.prototype[qr.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),Gd=function(){function t(e,r,n){r===void 0&&(r=0),n===void 0&&(n=Vd(e)),this.arr=e,this.idx=r,this.len=n}return t.prototype[qr.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}();function Wd(t){var e=t[qr.iterator];if(!e&&typeof t=="string")return new $d(t);if(!e&&t.length!==void 0)return new Gd(t);if(!e)throw new TypeError("object is not iterable");return t[qr.iterator]()}var Qs=Math.pow(2,53)-1;function Vd(t){var e=+t.length;return isNaN(e)?0:e===0||!Kd(e)?e:(e=Yd(e)*Math.floor(Math.abs(e)),e<=0?0:e>Qs?Qs:e)}function Kd(t){return typeof t=="number"&&Nd.root.isFinite(t)}function Yd(t){var e=+t;return e===0||isNaN(e)?e:e<0?-1:1}});var ra=s(Er=>{"use strict";var Hd=Er&&Er.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},zd=d(),Xd=Pt(),Jd=ge(),Zd=function(t){Hd(e,t);function e(r,n){t.call(this),this.arrayLike=r,this.scheduler=n,!n&&r.length===1&&(this._isScalar=!0,this.value=r[0])}return e.create=function(r,n){var i=r.length;return i===0?new Jd.EmptyObservable:i===1?new Xd.ScalarObservable(r[0],n):new e(r,n)},e.dispatch=function(r){var n=r.arrayLike,i=r.index,o=r.length,a=r.subscriber;if(!a.closed){if(i>=o){a.complete();return}a.next(n[i]),r.index=i+1,this.schedule(r)}},e.prototype._subscribe=function(r){var n=0,i=this,o=i.arrayLike,a=i.scheduler,u=o.length;if(a)return a.schedule(e.dispatch,0,{arrayLike:o,index:n,length:u,subscriber:r});for(var c=0;c<u&&!r.closed;c++)r.next(o[c]);r.complete()},e}(zd.Observable);Er.ArrayLikeObservable=Zd});var oa=s(J=>{"use strict";var Qd=J&&J.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},ey=E(),Mt=Ct();function ry(t,e){return e===void 0&&(e=0),function(n){return n.lift(new ta(t,e))}}J.observeOn=ry;var ta=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new na(e,this.scheduler,this.delay))},t}();J.ObserveOnOperator=ta;var na=function(t){Qd(e,t);function e(r,n,i){i===void 0&&(i=0),t.call(this,r),this.scheduler=n,this.delay=i}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){this.add(this.scheduler.schedule(e.dispatch,this.delay,new ia(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Mt.Notification.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Mt.Notification.createError(r))},e.prototype._complete=function(){this.scheduleMessage(Mt.Notification.createComplete())},e}(ey.Subscriber);J.ObserveOnSubscriber=na;var ia=function(){function t(e,r){this.notification=e,this.destination=r}return t}();J.ObserveOnMessage=ia});var aa=s(Tr=>{"use strict";var ty=Tr&&Tr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},ny=be(),iy=jt(),oy=It(),sy=Zs(),ay=ea(),uy=ur(),cy=ra(),ly=tr(),sa=d(),fy=oa(),Ft=Je(),vy=function(t){ty(e,t);function e(r,n){t.call(this,null),this.ish=r,this.scheduler=n}return e.create=function(r,n){if(r!=null){if(typeof r[Ft.observable]=="function")return r instanceof sa.Observable&&!n?r:new e(r,n);if(ny.isArray(r))return new uy.ArrayObservable(r,n);if(oy.isPromise(r))return new sy.PromiseObservable(r,n);if(typeof r[ly.iterator]=="function"||typeof r=="string")return new ay.IteratorObservable(r,n);if(iy.isArrayLike(r))return new cy.ArrayLikeObservable(r,n)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")},e.prototype._subscribe=function(r){var n=this.ish,i=this.scheduler;return i==null?n[Ft.observable]().subscribe(r):n[Ft.observable]().subscribe(new fy.ObserveOnSubscriber(r,i,0))},e}(sa.Observable);Tr.FromObservable=vy});var ca=s(ua=>{"use strict";var hy=aa();ua.from=hy.FromObservable.create});var la=s(()=>{"use strict";var py=d(),by=ca();py.Observable.from=by.from});var va=s(fa=>{"use strict";var dy=be();function yy(t){return!dy.isArray(t)&&t-parseFloat(t)+1>=0}fa.isNumeric=yy});var ha=s(jr=>{"use strict";var _y=jr&&jr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},my=va(),Oy=d(),Nt=hr(),Sy=function(t){_y(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=Nt.async),t.call(this),this.period=r,this.scheduler=n,(!my.isNumeric(r)||r<0)&&(this.period=0),(!n||typeof n.schedule!="function")&&(this.scheduler=Nt.async)}return e.create=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=Nt.async),new e(r,n)},e.dispatch=function(r){var n=r.index,i=r.subscriber,o=r.period;i.next(n),!i.closed&&(r.index+=1,this.schedule(r,o))},e.prototype._subscribe=function(r){var n=0,i=this.period,o=this.scheduler;r.add(o.schedule(e.dispatch,i,{index:n,subscriber:r,period:i}))},e}(Oy.Observable);jr.IntervalObservable=Sy});var ba=s(pa=>{"use strict";var wy=ha();pa.interval=wy.IntervalObservable.create});var da=s(()=>{"use strict";var gy=d(),qy=ba();gy.Observable.interval=qy.interval});var _a=s(ya=>{"use strict";var xy=ur();ya.of=xy.ArrayObservable.of});var ma=s(()=>{"use strict";var Ey=d(),Ty=_a();Ey.Observable.of=Ty.of});var Oa=s(Ir=>{"use strict";var jy=Ir&&Ir.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Iy=d(),Py=function(t){jy(e,t);function e(r,n){t.call(this),this.error=r,this.scheduler=n}return e.create=function(r,n){return new e(r,n)},e.dispatch=function(r){var n=r.error,i=r.subscriber;i.error(n)},e.prototype._subscribe=function(r){var n=this.error,i=this.scheduler;if(r.syncErrorThrowable=!0,i)return i.schedule(e.dispatch,0,{error:n,subscriber:r});r.error(n)},e}(Iy.Observable);Ir.ErrorObservable=Py});var wa=s(Sa=>{"use strict";var Ay=Oa();Sa._throw=Ay.ErrorObservable.create});var ga=s(()=>{"use strict";var Cy=d(),Ry=wa();Cy.Observable.throw=Ry._throw});var xa=s((UE,qa)=>{function ky(t){if(Array.isArray(t))return t}qa.exports=ky});var Ta=s((BE,Ea)=>{function Ly(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}Ea.exports=Ly});var Ia=s(($E,ja)=>{function Dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}ja.exports=Dy});var Ca=s((GE,Aa)=>{var Pa=Ia();function My(t,e){if(!!t){if(typeof t=="string")return Pa(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pa(t,e)}}Aa.exports=My});var ka=s((WE,Ra)=>{function Fy(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Ra.exports=Fy});var Da=s((VE,La)=>{var Ny=xa(),Uy=Ta(),By=Ca(),$y=ka();function Gy(t){return Ny(t)||Uy(t)||By(t)||$y()}La.exports=Gy});var Ma=s(Ut=>{"use strict";var Wy=We();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.default=Ky;var Vy=Wy(Da());function Ky(t){if(t)if(~t.indexOf(".")){var e=t.split(".").reverse(),r=(0,Vy.default)(e),n=r[0],i=r.slice(1);return{extname:"."+n,name:i.reverse().join(".")}}else return{extname:"",name:t};else return{extname:"",name:""}}});var Fa=s(Bt=>{"use strict";var Yy=We();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.default=zy;var Hy=Yy(Ma());function zy(t){var e=[];return t.forEach(function(r){for(var n=(0,Hy.default)(r),i=n.extname,o=n.name,a=0,u=r;e.includes(u);)u=[o,"(".concat(++a,")")].filter(function(c){return c}).join(" ")+i;e.push(u)}),e}});var Ga=s(Z=>{"use strict";var je=We();Object.defineProperty(Z,"__esModule",{value:!0});Z.DirectLine=Z.ConnectionStatus=void 0;var Xy=je(di()),Jy=je(_i()),Zy=je(Si()),q=je(gi()),Na=eo(),y=d();po();qo();jo();Go();Xo();es();is();vs();ys();Ts();Cs();Ks();zs();la();da();ma();ga();var Qy=je(Fa());function Ua(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ua(r,!0).forEach(function(n){(0,q.default)(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ua(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var e_="DirectLine/3.0",w;Z.ConnectionStatus=w;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Connecting=1]="Connecting",t[t.Online=2]="Online",t[t.ExpiredToken=3]="ExpiredToken",t[t.FailedToConnect=4]="FailedToConnect",t[t.Ended=5]="Ended"})(w||(Z.ConnectionStatus=w={}));var Ba=30*60*1e3,$a=Ba/2,C=20*1e3,$t=(Ba-$a)/C,r_=200,t_=new Error("expired token"),Gt=new Error("conversation ended"),n_=new Error("failed to connect"),G={log:function(e){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];typeof window<"u"&&window.botchatDebug&&e&&(r=console).log.apply(r,[e].concat(i))}},i_=function(){function t(e){(0,Jy.default)(this,t),(0,q.default)(this,"connectionStatus$",new Na.BehaviorSubject(w.Uninitialized)),(0,q.default)(this,"activity$",void 0),(0,q.default)(this,"domain","https://directline.botframework.com/v3/directline"),(0,q.default)(this,"webSocket",void 0),(0,q.default)(this,"conversationId",void 0),(0,q.default)(this,"expiredTokenExhaustion",void 0),(0,q.default)(this,"secret",void 0),(0,q.default)(this,"token",void 0),(0,q.default)(this,"watermark",""),(0,q.default)(this,"streamUrl",void 0),(0,q.default)(this,"_botAgent",""),(0,q.default)(this,"_userAgent",void 0),(0,q.default)(this,"referenceGrammarId",void 0),(0,q.default)(this,"pollingInterval",1e3),(0,q.default)(this,"tokenRefreshSubscription",void 0),this.secret=e.secret,this.token=e.secret||e.token,this.webSocket=(e.webSocket===void 0?!0:e.webSocket)&&typeof WebSocket<"u"&&WebSocket!==void 0,e.domain&&(this.domain=e.domain),e.conversationId&&(this.conversationId=e.conversationId),e.watermark&&(this.watermark=e.watermark),e.streamUrl&&(e.token&&e.conversationId?this.streamUrl=e.streamUrl:console.warn("DirectLineJS: streamUrl was ignored: you need to provide a token and a conversationid")),this._botAgent=this.getBotAgent(e.botAgent);var r=~~e.pollingInterval;r<r_?typeof e.pollingInterval<"u"&&console.warn("DirectLineJS: provided pollingInterval (".concat(e.pollingInterval,") is under lower bound (200ms), using default of 1000ms")):this.pollingInterval=r,this.expiredTokenExhaustion=this.setConnectionStatusFallback(w.ExpiredToken,w.FailedToConnect,5),this.activity$=(this.webSocket?this.webSocketActivity$():this.pollingGetActivity$()).share()}return(0,Zy.default)(t,[{key:"checkConnection",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.connectionStatus$.flatMap(function(o){return o===w.Uninitialized?(r.connectionStatus$.next(w.Connecting),r.token&&r.streamUrl?(r.connectionStatus$.next(w.Online),y.Observable.of(o)):r.startConversation().do(function(a){r.conversationId=a.conversationId,r.token=r.secret||a.token,r.streamUrl=a.streamUrl,r.referenceGrammarId=a.referenceGrammarId,r.secret||r.refreshTokenLoop(),r.connectionStatus$.next(w.Online)},function(a){r.connectionStatus$.next(w.FailedToConnect)}).map(function(a){return o})):y.Observable.of(o)}).filter(function(o){return o!=w.Uninitialized&&o!=w.Connecting}).flatMap(function(o){switch(o){case w.Ended:return y.Observable.throw(Gt);case w.FailedToConnect:return y.Observable.throw(n_);case w.ExpiredToken:return y.Observable.of(o);default:return y.Observable.of(o)}});return n?i.take(1):i}},{key:"setConnectionStatusFallback",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;i--;var o=0,a=null;return function(u){return u===r&&a===u&&o>=i?(o=0,n):(o++,a=u,u)}}},{key:"expiredToken",value:function(){var r=this.connectionStatus$.getValue();r!=w.Ended&&r!=w.FailedToConnect&&this.connectionStatus$.next(w.ExpiredToken);var n=this.expiredTokenExhaustion(this.connectionStatus$.getValue());this.connectionStatus$.next(n)}},{key:"startConversation",value:function(){var r=this.conversationId?"".concat(this.domain,"/conversations/").concat(this.conversationId,"?watermark=").concat(this.watermark):"".concat(this.domain,"/conversations"),n=this.conversationId?"GET":"POST";return y.Observable.ajax({method:n,url:r,timeout:C,headers:U({Accept:"application/json"},this.commonHeaders())}).map(function(i){return i.response}).retryWhen(function(i){return i.mergeMap(function(o){return o.status>=400&&o.status<600?y.Observable.throw(o):y.Observable.of(o)}).delay(C).take($t)})}},{key:"refreshTokenLoop",value:function(){var r=this;this.tokenRefreshSubscription=y.Observable.interval($a).flatMap(function(n){return r.refreshToken()}).subscribe(function(n){G.log("refreshing token",n,"at",new Date),r.token=n})}},{key:"refreshToken",value:function(){var r=this;return this.checkConnection(!0).flatMap(function(n){return y.Observable.ajax({method:"POST",url:"".concat(r.domain,"/tokens/refresh"),timeout:C,headers:U({},r.commonHeaders())}).map(function(i){return i.response.token}).retryWhen(function(i){return i.mergeMap(function(o){return o.status===403?(r.expiredToken(),y.Observable.throw(o)):o.status===404?y.Observable.throw(o):y.Observable.of(o)}).delay(C).take($t)})})}},{key:"reconnect",value:function(r){this.token=r.token,this.streamUrl=r.streamUrl,this.connectionStatus$.getValue()===w.ExpiredToken&&this.connectionStatus$.next(w.Online)}},{key:"end",value:function(){this.tokenRefreshSubscription&&this.tokenRefreshSubscription.unsubscribe();try{this.connectionStatus$.next(w.Ended)}catch(r){if(r===Gt)return;throw r}}},{key:"getSessionId",value:function(){var r=this;return G.log("getSessionId"),this.checkConnection(!0).flatMap(function(n){return y.Observable.ajax({method:"GET",url:"".concat(r.domain,"/session/getsessionid"),withCredentials:!0,timeout:C,headers:U({"Content-Type":"application/json"},r.commonHeaders())}).map(function(i){return i&&i.response&&i.response.sessionId?(G.log("getSessionId response: "+i.response.sessionId),i.response.sessionId):""}).catch(function(i){return G.log("getSessionId error: "+i.status),y.Observable.of("")})}).catch(function(n){return r.catchExpiredToken(n)})}},{key:"postActivity",value:function(r){var n=this;return r.type==="message"&&r.attachments&&r.attachments.length>0?this.postMessageWithAttachments(r):(G.log("postActivity",r),this.checkConnection(!0).flatMap(function(i){return y.Observable.ajax({method:"POST",url:"".concat(n.domain,"/conversations/").concat(n.conversationId,"/activities"),body:r,timeout:C,headers:U({"Content-Type":"application/json"},n.commonHeaders())}).map(function(o){return o.response.id}).catch(function(o){return n.catchPostError(o)})}).catch(function(i){return n.catchExpiredToken(i)}))}},{key:"postMessageWithAttachments",value:function(r){var n=this,i=r.attachments,o=(0,Qy.default)(i.map(function(c){return c.name||"blob"})),a=i.map(function(c,l){return U({},c,{name:o[l]})}),u;return this.checkConnection(!0).flatMap(function(c){return u=new FormData,u.append("activity",new Blob([JSON.stringify(U({},r,{attachments:a.map(function(l){var f=l.contentUrl,p=(0,Xy.default)(l,["contentUrl"]);return U({},p)})}))],{type:"application/vnd.microsoft.activity"})),y.Observable.from(a).flatMap(function(l){return y.Observable.ajax({method:"GET",url:l.contentUrl,responseType:"arraybuffer"}).do(function(f){return u.append("file",new Blob([f.response],{type:l.contentType}),l.name)})}).count()}).flatMap(function(c){return y.Observable.ajax({method:"POST",url:"".concat(n.domain,"/conversations/").concat(n.conversationId,"/upload?userId=").concat(r.from.id),body:u,timeout:C,headers:U({},n.commonHeaders())}).map(function(l){return l.response.id}).catch(function(l){return n.catchPostError(l)})}).catch(function(c){return n.catchPostError(c)})}},{key:"catchPostError",value:function(r){if(r.status===403)this.expiredToken();else if(r.status>=400&&r.status<500)return y.Observable.throw(r);return y.Observable.of("retry")}},{key:"catchExpiredToken",value:function(r){return r===t_?y.Observable.of("retry"):y.Observable.throw(r)}},{key:"pollingGetActivity$",value:function(){var r=this,n=y.Observable.create(function(i){var o=new Na.BehaviorSubject({});o.subscribe(function(){if(r.connectionStatus$.getValue()===w.Online){var a=Date.now();y.Observable.ajax({headers:U({Accept:"application/json"},r.commonHeaders()),method:"GET",url:"".concat(r.domain,"/conversations/").concat(r.conversationId,"/activities?watermark=").concat(r.watermark),timeout:C}).subscribe(function(u){i.next(u),setTimeout(function(){return o.next(null)},Math.max(0,r.pollingInterval-Date.now()+a))},function(u){switch(u.status){case 403:r.connectionStatus$.next(w.ExpiredToken),setTimeout(function(){return o.next(null)},r.pollingInterval);break;case 404:r.connectionStatus$.next(w.Ended);break;default:i.error(u);break}})}})});return this.checkConnection().flatMap(function(i){return n.catch(function(){return y.Observable.empty()}).map(function(o){return o.response}).flatMap(function(o){return r.observableFromActivityGroup(o)})})}},{key:"observableFromActivityGroup",value:function(r){return r.watermark&&(this.watermark=r.watermark),y.Observable.from(r.activities)}},{key:"webSocketActivity$",value:function(){var r=this;return this.checkConnection().flatMap(function(n){return r.observableWebSocket().retryWhen(function(i){return i.delay(r.getRetryDelay()).mergeMap(function(o){return r.reconnectToConversation()})})}).flatMap(function(n){return r.observableFromActivityGroup(n)})}},{key:"getRetryDelay",value:function(){return Math.floor(3e3+Math.random()*12e3)}},{key:"observableWebSocket",value:function(){var r=this;return y.Observable.create(function(n){G.log("creating WebSocket",r.streamUrl);var i=new WebSocket(r.streamUrl),o;return i.onopen=function(a){G.log("WebSocket open",a),o=y.Observable.interval(C).subscribe(function(u){try{i.send("")}catch(c){G.log("Ping error",c)}})},i.onclose=function(a){G.log("WebSocket close",a),o&&o.unsubscribe(),n.error(a)},i.onmessage=function(a){return a.data&&n.next(JSON.parse(a.data))},function(){(i.readyState===0||i.readyState===1)&&i.close()}})}},{key:"reconnectToConversation",value:function(){var r=this;return this.checkConnection(!0).flatMap(function(n){return y.Observable.ajax({method:"GET",url:"".concat(r.domain,"/conversations/").concat(r.conversationId,"?watermark=").concat(r.watermark),timeout:C,headers:U({Accept:"application/json"},r.commonHeaders())}).do(function(i){r.secret||(r.token=i.response.token),r.streamUrl=i.response.streamUrl}).map(function(i){return null}).retryWhen(function(i){return i.mergeMap(function(o){if(o.status===403)r.expiredToken();else if(o.status===404)return y.Observable.throw(Gt);return y.Observable.of(o)}).delay(C).take($t)})})}},{key:"commonHeaders",value:function(){return{Authorization:"Bearer ".concat(this.token),"x-ms-bot-agent":this._botAgent}}},{key:"getBotAgent",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n="directlinejs";return r&&(n+="; ".concat(r)),"".concat(e_," (").concat(n,")")}}]),t}();Z.DirectLine=i_});var Va=s((zE,Wa)=>{Wa.exports=function(t){var e="Uint32Array"in t,r=t.crypto||t.msCrypto,n=r&&typeof r.getRandomValues=="function",i=e&&n;if(!i)return Math.random;var o=new Uint32Array(1),a=Math.pow(2,32);function u(){return r.getRandomValues(o),o[0]/a}return u.cryptographic=!0,u}(typeof self<"u"?self:window)});var _=s((XE,Ka)=>{var Pr=function(t){return t&&t.Math==Math&&t};Ka.exports=Pr(typeof globalThis=="object"&&globalThis)||Pr(typeof window=="object"&&window)||Pr(typeof self=="object"&&self)||Pr(typeof global=="object"&&global)||function(){return this}()||Function("return this")()});var R=s((JE,Ya)=>{Ya.exports=function(t){try{return!!t()}catch{return!0}}});var k=s((ZE,Ha)=>{var o_=R();Ha.exports=!o_(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var Ar=s((QE,za)=>{var s_=R();za.exports=!s_(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var B=s((eT,Xa)=>{var a_=Ar(),Cr=Function.prototype.call;Xa.exports=a_?Cr.bind(Cr):function(){return Cr.apply(Cr,arguments)}});var eu=s(Qa=>{"use strict";var Ja={}.propertyIsEnumerable,Za=Object.getOwnPropertyDescriptor,u_=Za&&!Ja.call({1:2},1);Qa.f=u_?function(e){var r=Za(this,e);return!!r&&r.enumerable}:Ja});var Rr=s((tT,ru)=>{ru.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var j=s((nT,iu)=>{var tu=Ar(),nu=Function.prototype,c_=nu.bind,Wt=nu.call,l_=tu&&c_.bind(Wt,Wt);iu.exports=tu?function(t){return t&&l_(t)}:function(t){return t&&function(){return Wt.apply(t,arguments)}}});var Vt=s((iT,su)=>{var ou=j(),f_=ou({}.toString),v_=ou("".slice);su.exports=function(t){return v_(f_(t),8,-1)}});var uu=s((oT,au)=>{var h_=_(),p_=j(),b_=R(),d_=Vt(),Kt=h_.Object,y_=p_("".split);au.exports=b_(function(){return!Kt("z").propertyIsEnumerable(0)})?function(t){return d_(t)=="String"?y_(t,""):Kt(t)}:Kt});var kr=s((sT,cu)=>{var __=_(),m_=__.TypeError;cu.exports=function(t){if(t==null)throw m_("Can't call method on "+t);return t}});var ce=s((aT,lu)=>{var O_=uu(),S_=kr();lu.exports=function(t){return O_(S_(t))}});var g=s((uT,fu)=>{fu.exports=function(t){return typeof t=="function"}});var Q=s((cT,vu)=>{var w_=g();vu.exports=function(t){return typeof t=="object"?t!==null:w_(t)}});var W=s((lT,hu)=>{var Yt=_(),g_=g(),q_=function(t){return g_(t)?t:void 0};hu.exports=function(t,e){return arguments.length<2?q_(Yt[t]):Yt[t]&&Yt[t][e]}});var Lr=s((fT,pu)=>{var x_=j();pu.exports=x_({}.isPrototypeOf)});var du=s((vT,bu)=>{var E_=W();bu.exports=E_("navigator","userAgent")||""});var gu=s((hT,wu)=>{var Su=_(),Ht=du(),yu=Su.process,_u=Su.Deno,mu=yu&&yu.versions||_u&&_u.version,Ou=mu&&mu.v8,L,Dr;Ou&&(L=Ou.split("."),Dr=L[0]>0&&L[0]<4?1:+(L[0]+L[1]));!Dr&&Ht&&(L=Ht.match(/Edge\/(\d+)/),(!L||L[1]>=74)&&(L=Ht.match(/Chrome\/(\d+)/),L&&(Dr=+L[1])));wu.exports=Dr});var zt=s((pT,xu)=>{var qu=gu(),T_=R();xu.exports=!!Object.getOwnPropertySymbols&&!T_(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&qu&&qu<41})});var Xt=s((bT,Eu)=>{var j_=zt();Eu.exports=j_&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var Jt=s((dT,Tu)=>{var I_=_(),P_=W(),A_=g(),C_=Lr(),R_=Xt(),k_=I_.Object;Tu.exports=R_?function(t){return typeof t=="symbol"}:function(t){var e=P_("Symbol");return A_(e)&&C_(e.prototype,k_(t))}});var Mr=s((yT,ju)=>{var L_=_(),D_=L_.String;ju.exports=function(t){try{return D_(t)}catch{return"Object"}}});var Ie=s((_T,Iu)=>{var M_=_(),F_=g(),N_=Mr(),U_=M_.TypeError;Iu.exports=function(t){if(F_(t))return t;throw U_(N_(t)+" is not a function")}});var le=s((mT,Pu)=>{var B_=Ie();Pu.exports=function(t,e){var r=t[e];return r==null?void 0:B_(r)}});var Cu=s((OT,Au)=>{var $_=_(),Zt=B(),Qt=g(),en=Q(),G_=$_.TypeError;Au.exports=function(t,e){var r,n;if(e==="string"&&Qt(r=t.toString)&&!en(n=Zt(r,t))||Qt(r=t.valueOf)&&!en(n=Zt(r,t))||e!=="string"&&Qt(r=t.toString)&&!en(n=Zt(r,t)))return n;throw G_("Can't convert object to primitive value")}});var Pe=s((ST,Ru)=>{Ru.exports=!1});var Fr=s((wT,Lu)=>{var ku=_(),W_=Object.defineProperty;Lu.exports=function(t,e){try{W_(ku,t,{value:e,configurable:!0,writable:!0})}catch{ku[t]=e}return e}});var Nr=s((gT,Mu)=>{var V_=_(),K_=Fr(),Du="__core-js_shared__",Y_=V_[Du]||K_(Du,{});Mu.exports=Y_});var rn=s((qT,Nu)=>{var H_=Pe(),Fu=Nr();(Nu.exports=function(t,e){return Fu[t]||(Fu[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.22.7",mode:H_?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.7/LICENSE",source:"https://github.com/zloirock/core-js"})});var tn=s((xT,Uu)=>{var z_=_(),X_=kr(),J_=z_.Object;Uu.exports=function(t){return J_(X_(t))}});var D=s((ET,Bu)=>{var Z_=j(),Q_=tn(),em=Z_({}.hasOwnProperty);Bu.exports=Object.hasOwn||function(e,r){return em(Q_(e),r)}});var nn=s((TT,$u)=>{var rm=j(),tm=0,nm=Math.random(),im=rm(1 .toString);$u.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+im(++tm+nm,36)}});var x=s((jT,Yu)=>{var om=_(),sm=rn(),Gu=D(),am=nn(),Wu=zt(),Ku=Xt(),fe=sm("wks"),ee=om.Symbol,Vu=ee&&ee.for,um=Ku?ee:ee&&ee.withoutSetter||am;Yu.exports=function(t){if(!Gu(fe,t)||!(Wu||typeof fe[t]=="string")){var e="Symbol."+t;Wu&&Gu(ee,t)?fe[t]=ee[t]:Ku&&Vu?fe[t]=Vu(e):fe[t]=um(e)}return fe[t]}});var Ju=s((IT,Xu)=>{var cm=_(),lm=B(),Hu=Q(),zu=Jt(),fm=le(),vm=Cu(),hm=x(),pm=cm.TypeError,bm=hm("toPrimitive");Xu.exports=function(t,e){if(!Hu(t)||zu(t))return t;var r=fm(t,bm),n;if(r){if(e===void 0&&(e="default"),n=lm(r,t,e),!Hu(n)||zu(n))return n;throw pm("Can't convert object to primitive value")}return e===void 0&&(e="number"),vm(t,e)}});var on=s((PT,Zu)=>{var dm=Ju(),ym=Jt();Zu.exports=function(t){var e=dm(t,"string");return ym(e)?e:e+""}});var Ur=s((AT,ec)=>{var _m=_(),Qu=Q(),sn=_m.document,mm=Qu(sn)&&Qu(sn.createElement);ec.exports=function(t){return mm?sn.createElement(t):{}}});var an=s((CT,rc)=>{var Om=k(),Sm=R(),wm=Ur();rc.exports=!Om&&!Sm(function(){return Object.defineProperty(wm("div"),"a",{get:function(){return 7}}).a!=7})});var un=s(nc=>{var gm=k(),qm=B(),xm=eu(),Em=Rr(),Tm=ce(),jm=on(),Im=D(),Pm=an(),tc=Object.getOwnPropertyDescriptor;nc.f=gm?tc:function(e,r){if(e=Tm(e),r=jm(r),Pm)try{return tc(e,r)}catch{}if(Im(e,r))return Em(!qm(xm.f,e,r),e[r])}});var cn=s((kT,ic)=>{var Am=k(),Cm=R();ic.exports=Am&&Cm(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var M=s((LT,sc)=>{var oc=_(),Rm=Q(),km=oc.String,Lm=oc.TypeError;sc.exports=function(t){if(Rm(t))return t;throw Lm(km(t)+" is not an object")}});var $=s(uc=>{var Dm=_(),Mm=k(),Fm=an(),Nm=cn(),Br=M(),ac=on(),Um=Dm.TypeError,ln=Object.defineProperty,Bm=Object.getOwnPropertyDescriptor,fn="enumerable",vn="configurable",hn="writable";uc.f=Mm?Nm?function(e,r,n){if(Br(e),r=ac(r),Br(n),typeof e=="function"&&r==="prototype"&&"value"in n&&hn in n&&!n[hn]){var i=Bm(e,r);i&&i[hn]&&(e[r]=n.value,n={configurable:vn in n?n[vn]:i[vn],enumerable:fn in n?n[fn]:i[fn],writable:!1})}return ln(e,r,n)}:ln:function(e,r,n){if(Br(e),r=ac(r),Br(n),Fm)try{return ln(e,r,n)}catch{}if("get"in n||"set"in n)throw Um("Accessors not supported");return"value"in n&&(e[r]=n.value),e}});var ve=s((MT,cc)=>{var $m=k(),Gm=$(),Wm=Rr();cc.exports=$m?function(t,e,r){return Gm.f(t,e,Wm(1,r))}:function(t,e,r){return t[e]=r,t}});var dn=s((FT,fc)=>{var pn=k(),Vm=D(),lc=Function.prototype,Km=pn&&Object.getOwnPropertyDescriptor,bn=Vm(lc,"name"),Ym=bn&&function(){}.name==="something",Hm=bn&&(!pn||pn&&Km(lc,"name").configurable);fc.exports={EXISTS:bn,PROPER:Ym,CONFIGURABLE:Hm}});var $r=s((NT,vc)=>{var zm=j(),Xm=g(),yn=Nr(),Jm=zm(Function.toString);Xm(yn.inspectSource)||(yn.inspectSource=function(t){return Jm(t)});vc.exports=yn.inspectSource});var bc=s((UT,pc)=>{var Zm=_(),Qm=g(),eO=$r(),hc=Zm.WeakMap;pc.exports=Qm(hc)&&/native code/.test(eO(hc))});var Gr=s((BT,yc)=>{var rO=rn(),tO=nn(),dc=rO("keys");yc.exports=function(t){return dc[t]||(dc[t]=tO(t))}});var Wr=s(($T,_c)=>{_c.exports={}});var Ce=s((GT,gc)=>{var nO=bc(),wc=_(),_n=j(),iO=Q(),oO=ve(),mn=D(),On=Nr(),sO=Gr(),aO=Wr(),mc="Object already initialized",wn=wc.TypeError,uO=wc.WeakMap,Vr,Ae,Kr,cO=function(t){return Kr(t)?Ae(t):Vr(t,{})},lO=function(t){return function(e){var r;if(!iO(e)||(r=Ae(e)).type!==t)throw wn("Incompatible receiver, "+t+" required");return r}};nO||On.state?(K=On.state||(On.state=new uO),Oc=_n(K.get),Sn=_n(K.has),Sc=_n(K.set),Vr=function(t,e){if(Sn(K,t))throw new wn(mc);return e.facade=t,Sc(K,t,e),e},Ae=function(t){return Oc(K,t)||{}},Kr=function(t){return Sn(K,t)}):(re=sO("state"),aO[re]=!0,Vr=function(t,e){if(mn(t,re))throw new wn(mc);return e.facade=t,oO(t,re,e),e},Ae=function(t){return mn(t,re)?t[re]:{}},Kr=function(t){return mn(t,re)});var K,Oc,Sn,Sc,re;gc.exports={set:Vr,get:Ae,has:Kr,enforce:cO,getterFor:lO}});var gn=s((WT,Ec)=>{var fO=R(),vO=g(),Yr=D(),qc=k(),hO=dn().CONFIGURABLE,pO=$r(),xc=Ce(),bO=xc.enforce,dO=xc.get,Hr=Object.defineProperty,yO=qc&&!fO(function(){return Hr(function(){},"length",{value:8}).length!==8}),_O=String(String).split("String"),mO=Ec.exports=function(t,e,r){String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Yr(t,"name")||hO&&t.name!==e)&&Hr(t,"name",{value:e,configurable:!0}),yO&&r&&Yr(r,"arity")&&t.length!==r.arity&&Hr(t,"length",{value:r.arity});try{r&&Yr(r,"constructor")&&r.constructor?qc&&Hr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=bO(t);return Yr(n,"source")||(n.source=_O.join(typeof e=="string"?e:"")),t};Function.prototype.toString=mO(function(){return vO(this)&&dO(this).source||pO(this)},"toString")});var te=s((VT,Tc)=>{var OO=g(),SO=ve(),wO=gn(),gO=Fr();Tc.exports=function(t,e,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:e;return OO(r)&&wO(r,o,n),n.global?i?t[e]=r:gO(e,r):(n.unsafe?t[e]&&(i=!0):delete t[e],i?t[e]=r:SO(t,e,r)),t}});var Ic=s((KT,jc)=>{var qO=Math.ceil,xO=Math.floor;jc.exports=Math.trunc||function(e){var r=+e;return(r>0?xO:qO)(r)}});var zr=s((YT,Pc)=>{var EO=Ic();Pc.exports=function(t){var e=+t;return e!==e||e===0?0:EO(e)}});var Cc=s((HT,Ac)=>{var TO=zr(),jO=Math.max,IO=Math.min;Ac.exports=function(t,e){var r=TO(t);return r<0?jO(r+e,0):IO(r,e)}});var kc=s((zT,Rc)=>{var PO=zr(),AO=Math.min;Rc.exports=function(t){return t>0?AO(PO(t),9007199254740991):0}});var qn=s((XT,Lc)=>{var CO=kc();Lc.exports=function(t){return CO(t.length)}});var Fc=s((JT,Mc)=>{var RO=ce(),kO=Cc(),LO=qn(),Dc=function(t){return function(e,r,n){var i=RO(e),o=LO(i),a=kO(n,o),u;if(t&&r!=r){for(;o>a;)if(u=i[a++],u!=u)return!0}else for(;o>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return!t&&-1}};Mc.exports={includes:Dc(!0),indexOf:Dc(!1)}});var En=s((ZT,Uc)=>{var DO=j(),xn=D(),MO=ce(),FO=Fc().indexOf,NO=Wr(),Nc=DO([].push);Uc.exports=function(t,e){var r=MO(t),n=0,i=[],o;for(o in r)!xn(NO,o)&&xn(r,o)&&Nc(i,o);for(;e.length>n;)xn(r,o=e[n++])&&(~FO(i,o)||Nc(i,o));return i}});var Xr=s((QT,Bc)=>{Bc.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var Gc=s($c=>{var UO=En(),BO=Xr(),$O=BO.concat("length","prototype");$c.f=Object.getOwnPropertyNames||function(e){return UO(e,$O)}});var Vc=s(Wc=>{Wc.f=Object.getOwnPropertySymbols});var Yc=s((tj,Kc)=>{var GO=W(),WO=j(),VO=Gc(),KO=Vc(),YO=M(),HO=WO([].concat);Kc.exports=GO("Reflect","ownKeys")||function(e){var r=VO.f(YO(e)),n=KO.f;return n?HO(r,n(e)):r}});var Xc=s((nj,zc)=>{var Hc=D(),zO=Yc(),XO=un(),JO=$();zc.exports=function(t,e,r){for(var n=zO(e),i=JO.f,o=XO.f,a=0;a<n.length;a++){var u=n[a];!Hc(t,u)&&!(r&&Hc(r,u))&&i(t,u,o(e,u))}}});var Zc=s((ij,Jc)=>{var ZO=R(),QO=g(),eS=/#|\.prototype\./,Re=function(t,e){var r=tS[rS(t)];return r==iS?!0:r==nS?!1:QO(e)?ZO(e):!!e},rS=Re.normalize=function(t){return String(t).replace(eS,".").toLowerCase()},tS=Re.data={},nS=Re.NATIVE="N",iS=Re.POLYFILL="P";Jc.exports=Re});var ke=s((oj,Qc)=>{var Tn=_(),oS=un().f,sS=ve(),aS=te(),uS=Fr(),cS=Xc(),lS=Zc();Qc.exports=function(t,e){var r=t.target,n=t.global,i=t.stat,o,a,u,c,l,f;if(n?a=Tn:i?a=Tn[r]||uS(r,{}):a=(Tn[r]||{}).prototype,a)for(u in e){if(l=e[u],t.dontCallGetSet?(f=oS(a,u),c=f&&f.value):c=a[u],o=lS(n?u:r+(i?".":"#")+u,t.forced),!o&&c!==void 0){if(typeof l==typeof c)continue;cS(l,c)}(t.sham||c&&c.sham)&&sS(l,"sham",!0),aS(a,u,l,t)}}});var tl=s((sj,rl)=>{"use strict";var fS=W(),vS=$(),hS=x(),pS=k(),el=hS("species");rl.exports=function(t){var e=fS(t),r=vS.f;pS&&e&&!e[el]&&r(e,el,{configurable:!0,get:function(){return this}})}});var il=s((aj,nl)=>{var bS=_(),dS=Lr(),yS=bS.TypeError;nl.exports=function(t,e){if(dS(e,t))return t;throw yS("Incorrect invocation")}});var sl=s((uj,ol)=>{var _S=te();ol.exports=function(t,e,r){for(var n in e)_S(t,n,e[n],r);return t}});var cl=s((cj,ul)=>{var al=gn(),mS=$();ul.exports=function(t,e,r){return r.get&&al(r.get,e,{getter:!0}),r.set&&al(r.set,e,{setter:!0}),mS.f(t,e,r)}});var fl=s((lj,ll)=>{var OS=_();ll.exports=function(t,e){var r=OS.console;r&&r.error&&(arguments.length==1?r.error(t):r.error(t,e))}});var Jr=s((fj,hl)=>{var SS=_(),Le=g(),wS=x(),gS=wS("observable"),De=SS.Observable,vl=De&&De.prototype;hl.exports=!Le(De)||!Le(De.from)||!Le(De.of)||!Le(vl.subscribe)||!Le(vl[gS])});var gl=s(()=>{"use strict";var qS=ke(),Zr=B(),Me=k(),xS=tl(),pl=Ie(),bl=g(),ES=M(),TS=Q(),jS=il(),Qr=le(),IS=te(),jn=sl(),dl=cl(),he=fl(),PS=x(),yl=Ce(),AS=Jr(),CS=PS("observable"),In="Observable",_l="Subscription",ml="SubscriptionObserver",Pn=yl.getterFor,An=yl.set,RS=Pn(In),Ol=Pn(_l),et=Pn(ml),Sl=function(t){this.observer=ES(t),this.cleanup=void 0,this.subscriptionObserver=void 0};Sl.prototype={type:_l,clean:function(){var t=this.cleanup;if(t){this.cleanup=void 0;try{t()}catch(e){he(e)}}},close:function(){if(!Me){var t=this.facade,e=this.subscriptionObserver;t.closed=!0,e&&(e.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var Cn=function(t,e){var r=An(this,new Sl(t)),n;Me||(this.closed=!1);try{(n=Qr(t,"start"))&&Zr(n,t,this)}catch(u){he(u)}if(!r.isClosed()){var i=r.subscriptionObserver=new Rn(r);try{var o=e(i),a=o;o!=null&&(r.cleanup=bl(o.unsubscribe)?function(){a.unsubscribe()}:pl(o))}catch(u){i.error(u);return}r.isClosed()&&r.clean()}};Cn.prototype=jn({},{unsubscribe:function(){var e=Ol(this);e.isClosed()||(e.close(),e.clean())}});Me&&dl(Cn.prototype,"closed",{configurable:!0,get:function(){return Ol(this).isClosed()}});var Rn=function(t){An(this,{type:ml,subscriptionState:t}),Me||(this.closed=!1)};Rn.prototype=jn({},{next:function(e){var r=et(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=Qr(n,"next");i&&Zr(i,n,e)}catch(o){he(o)}}},error:function(e){var r=et(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=Qr(n,"error");i?Zr(i,n,e):he(e)}catch(o){he(o)}r.clean()}},complete:function(){var e=et(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=Qr(r,"complete");n&&Zr(n,r)}catch(i){he(i)}e.clean()}}});Me&&dl(Rn.prototype,"closed",{configurable:!0,get:function(){return et(this).subscriptionState.isClosed()}});var wl=function(e){jS(this,kn),An(this,{type:In,subscriber:pl(e)})},kn=wl.prototype;jn(kn,{subscribe:function(e){var r=arguments.length;return new Cn(bl(e)?{next:e,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:TS(e)?e:{},RS(this).subscriber)}});IS(kn,CS,function(){return this});qS({global:!0,constructor:!0,forced:AS},{Observable:wl});xS(In)});var rt=s((pj,xl)=>{var kS=x(),LS=kS("toStringTag"),ql={};ql[LS]="z";xl.exports=String(ql)==="[object z]"});var Fe=s((bj,El)=>{var DS=_(),MS=rt(),FS=g(),tt=Vt(),NS=x(),US=NS("toStringTag"),BS=DS.Object,$S=tt(function(){return arguments}())=="Arguments",GS=function(t,e){try{return t[e]}catch{}};El.exports=MS?tt:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=GS(e=BS(t),US))=="string"?r:$S?tt(e):(n=tt(e))=="Object"&&FS(e.callee)?"Arguments":n}});var Dn=s((dj,Al)=>{var WS=j(),VS=R(),Tl=g(),KS=Fe(),YS=W(),HS=$r(),jl=function(){},zS=[],Il=YS("Reflect","construct"),Ln=/^\s*(?:class|function)\b/,XS=WS(Ln.exec),JS=!Ln.exec(jl),Ne=function(e){if(!Tl(e))return!1;try{return Il(jl,zS,e),!0}catch{return!1}},Pl=function(e){if(!Tl(e))return!1;switch(KS(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return JS||!!XS(Ln,HS(e))}catch{return!0}};Pl.sham=!0;Al.exports=!Il||VS(function(){var t;return Ne(Ne.call)||!Ne(Object)||!Ne(function(){t=!0})||t})?Pl:Ne});var pe=s((yj,Cl)=>{Cl.exports={}});var Mn=s((_j,kl)=>{var ZS=Fe(),Rl=le(),QS=pe(),ew=x(),rw=ew("iterator");kl.exports=function(t){if(t!=null)return Rl(t,rw)||Rl(t,"@@iterator")||QS[ZS(t)]}});var Fn=s((mj,Ll)=>{var tw=_(),nw=B(),iw=Ie(),ow=M(),sw=Mr(),aw=Mn(),uw=tw.TypeError;Ll.exports=function(t,e){var r=arguments.length<2?aw(t):e;if(iw(r))return ow(nw(r,t));throw uw(sw(t)+" is not iterable")}});var Fl=s((Oj,Ml)=>{var Dl=j(),cw=Ie(),lw=Ar(),fw=Dl(Dl.bind);Ml.exports=function(t,e){return cw(t),e===void 0?t:lw?fw(t,e):function(){return t.apply(e,arguments)}}});var Ul=s((Sj,Nl)=>{var vw=x(),hw=pe(),pw=vw("iterator"),bw=Array.prototype;Nl.exports=function(t){return t!==void 0&&(hw.Array===t||bw[pw]===t)}});var Gl=s((wj,$l)=>{var dw=B(),Bl=M(),yw=le();$l.exports=function(t,e,r){var n,i;Bl(t);try{if(n=yw(t,"return"),!n){if(e==="throw")throw r;return r}n=dw(n,t)}catch(o){i=!0,n=o}if(e==="throw")throw r;if(i)throw n;return Bl(n),r}});var Hl=s((gj,Yl)=>{var _w=_(),mw=Fl(),Ow=B(),Sw=M(),ww=Mr(),gw=Ul(),qw=qn(),Wl=Lr(),xw=Fn(),Ew=Mn(),Vl=Gl(),Tw=_w.TypeError,nt=function(t,e){this.stopped=t,this.result=e},Kl=nt.prototype;Yl.exports=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),u=mw(e,n),c,l,f,p,v,b,h,P=function(m){return c&&Vl(c,"normal",m),new nt(!0,m)},F=function(m){return i?(Sw(m),a?u(m[0],m[1],P):u(m[0],m[1])):a?u(m,P):u(m)};if(o)c=t;else{if(l=Ew(t),!l)throw Tw(ww(t)+" is not iterable");if(gw(l)){for(f=0,p=qw(t);p>f;f++)if(v=F(t[f]),v&&Wl(Kl,v))return v;return new nt(!1)}c=xw(t,l)}for(b=c.next;!(h=Ow(b,c)).done;){try{v=F(h.value)}catch(m){Vl(c,"throw",m)}if(typeof v=="object"&&v&&Wl(Kl,v))return v}return new nt(!1)}});var Xl=s(()=>{"use strict";var jw=ke(),Iw=W(),Pw=B(),zl=M(),Aw=Dn(),Cw=Fn(),Rw=le(),kw=Hl(),Lw=x(),Dw=Jr(),Mw=Lw("observable");jw({target:"Observable",stat:!0,forced:Dw},{from:function(e){var r=Aw(this)?this:Iw("Observable"),n=Rw(zl(e),Mw);if(n){var i=zl(Pw(n,e));return i.constructor===r?i:new r(function(a){return i.subscribe(a)})}var o=Cw(e);return new r(function(a){kw(o,function(u,c){if(a.next(u),a.closed)return c()},{IS_ITERATOR:!0,INTERRUPTED:!0}),a.complete()})}})});var Zl=s(()=>{"use strict";var Fw=ke(),Jl=W(),Nw=Dn(),Uw=Jr(),Bw=Jl("Array");Fw({target:"Observable",stat:!0,forced:Uw},{of:function(){for(var e=Nw(this)?this:Jl("Observable"),r=arguments.length,n=Bw(r),i=0;i<r;)n[i]=arguments[i++];return new e(function(o){for(var a=0;a<r;a++)if(o.next(n[a]),o.closed)return;o.complete()})}})});var Ql=s(()=>{gl();Xl();Zl()});var Nn=s((Pj,ef)=>{var $w=_();ef.exports=$w});var tf=s(rf=>{var Gw=x();rf.f=Gw});var sf=s((Cj,of)=>{var nf=Nn(),Ww=D(),Vw=tf(),Kw=$().f;of.exports=function(t){var e=nf.Symbol||(nf.Symbol={});Ww(e,t)||Kw(e,t,{value:Vw.f(t)})}});var af=s(()=>{var Yw=sf();Yw("observable")});var cf=s((Lj,uf)=>{"use strict";var Hw=rt(),zw=Fe();uf.exports=Hw?{}.toString:function(){return"[object "+zw(this)+"]"}});var lf=s(()=>{var Xw=rt(),Jw=te(),Zw=cf();Xw||Jw(Object.prototype,"toString",Zw,{unsafe:!0})});var Un=s((Fj,ff)=>{var Qw=_(),eg=Fe(),rg=Qw.String;ff.exports=function(t){if(eg(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return rg(t)}});var bf=s((Nj,pf)=>{var Bn=j(),tg=zr(),ng=Un(),ig=kr(),og=Bn("".charAt),vf=Bn("".charCodeAt),sg=Bn("".slice),hf=function(t){return function(e,r){var n=ng(ig(e)),i=tg(r),o=n.length,a,u;return i<0||i>=o?t?"":void 0:(a=vf(n,i),a<55296||a>56319||i+1===o||(u=vf(n,i+1))<56320||u>57343?t?og(n,i):a:t?sg(n,i,i+2):(a-55296<<10)+(u-56320)+65536)}};pf.exports={codeAt:hf(!1),charAt:hf(!0)}});var yf=s((Uj,df)=>{var ag=En(),ug=Xr();df.exports=Object.keys||function(e){return ag(e,ug)}});var mf=s(_f=>{var cg=k(),lg=cn(),fg=$(),vg=M(),hg=ce(),pg=yf();_f.f=cg&&!lg?Object.defineProperties:function(e,r){vg(e);for(var n=hg(r),i=pg(r),o=i.length,a=0,u;o>a;)fg.f(e,u=i[a++],n[u]);return e}});var Sf=s(($j,Of)=>{var bg=W();Of.exports=bg("document","documentElement")});var st=s((Gj,jf)=>{var dg=M(),yg=mf(),wf=Xr(),_g=Wr(),mg=Sf(),Og=Ur(),Sg=Gr(),gf=">",qf="<",Gn="prototype",Wn="script",Ef=Sg("IE_PROTO"),$n=function(){},Tf=function(t){return qf+Wn+gf+t+qf+"/"+Wn+gf},xf=function(t){t.write(Tf("")),t.close();var e=t.parentWindow.Object;return t=null,e},wg=function(){var t=Og("iframe"),e="java"+Wn+":",r;return t.style.display="none",mg.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(Tf("document.F=Object")),r.close(),r.F},it,ot=function(){try{it=new ActiveXObject("htmlfile")}catch{}ot=typeof document<"u"?document.domain&&it?xf(it):wg():xf(it);for(var t=wf.length;t--;)delete ot[Gn][wf[t]];return ot()};_g[Ef]=!0;jf.exports=Object.create||function(e,r){var n;return e!==null?($n[Gn]=dg(e),n=new $n,$n[Gn]=null,n[Ef]=e):n=ot(),r===void 0?n:yg.f(n,r)}});var Pf=s((Wj,If)=>{var gg=R();If.exports=!gg(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var Kn=s((Vj,Cf)=>{var qg=_(),xg=D(),Eg=g(),Tg=tn(),jg=Gr(),Ig=Pf(),Af=jg("IE_PROTO"),Vn=qg.Object,Pg=Vn.prototype;Cf.exports=Ig?Vn.getPrototypeOf:function(t){var e=Tg(t);if(xg(e,Af))return e[Af];var r=e.constructor;return Eg(r)&&e instanceof r?r.prototype:e instanceof Vn?Pg:null}});var Xn=s((Kj,Lf)=>{"use strict";var Ag=R(),Cg=g(),Rg=st(),Rf=Kn(),kg=te(),Lg=x(),Dg=Pe(),zn=Lg("iterator"),kf=!1,V,Yn,Hn;[].keys&&(Hn=[].keys(),"next"in Hn?(Yn=Rf(Rf(Hn)),Yn!==Object.prototype&&(V=Yn)):kf=!0);var Mg=V==null||Ag(function(){var t={};return V[zn].call(t)!==t});Mg?V={}:Dg&&(V=Rg(V));Cg(V[zn])||kg(V,zn,function(){return this});Lf.exports={IteratorPrototype:V,BUGGY_SAFARI_ITERATORS:kf}});var Jn=s((Yj,Mf)=>{var Fg=$().f,Ng=D(),Ug=x(),Df=Ug("toStringTag");Mf.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!Ng(t,Df)&&Fg(t,Df,{configurable:!0,value:e})}});var Nf=s((Hj,Ff)=>{"use strict";var Bg=Xn().IteratorPrototype,$g=st(),Gg=Rr(),Wg=Jn(),Vg=pe(),Kg=function(){return this};Ff.exports=function(t,e,r,n){var i=e+" Iterator";return t.prototype=$g(Bg,{next:Gg(+!n,r)}),Wg(t,i,!1,!0),Vg[i]=Kg,t}});var $f=s((zj,Bf)=>{var Uf=_(),Yg=g(),Hg=Uf.String,zg=Uf.TypeError;Bf.exports=function(t){if(typeof t=="object"||Yg(t))return t;throw zg("Can't set "+Hg(t)+" as a prototype")}});var Wf=s((Xj,Gf)=>{var Xg=j(),Jg=M(),Zg=$f();Gf.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=Xg(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch{}return function(i,o){return Jg(i),Zg(o),t?r(i,o):i.__proto__=o,i}}():void 0)});var Qn=s((Jj,ev)=>{"use strict";var Qg=ke(),eq=B(),at=Pe(),Zf=dn(),rq=g(),tq=Nf(),Vf=Kn(),Kf=Wf(),nq=Jn(),iq=ve(),Zn=te(),oq=x(),Yf=pe(),Qf=Xn(),sq=Zf.PROPER,aq=Zf.CONFIGURABLE,Hf=Qf.IteratorPrototype,ut=Qf.BUGGY_SAFARI_ITERATORS,Ue=oq("iterator"),zf="keys",Be="values",Xf="entries",Jf=function(){return this};ev.exports=function(t,e,r,n,i,o,a){tq(r,e,n);var u=function(m){if(m===i&&v)return v;if(!ut&&m in f)return f[m];switch(m){case zf:return function(){return new r(this,m)};case Be:return function(){return new r(this,m)};case Xf:return function(){return new r(this,m)}}return function(){return new r(this)}},c=e+" Iterator",l=!1,f=t.prototype,p=f[Ue]||f["@@iterator"]||i&&f[i],v=!ut&&p||u(i),b=e=="Array"&&f.entries||p,h,P,F;if(b&&(h=Vf(b.call(new t)),h!==Object.prototype&&h.next&&(!at&&Vf(h)!==Hf&&(Kf?Kf(h,Hf):rq(h[Ue])||Zn(h,Ue,Jf)),nq(h,c,!0,!0),at&&(Yf[c]=Jf))),sq&&i==Be&&p&&p.name!==Be&&(!at&&aq?iq(f,"name",Be):(l=!0,v=function(){return eq(p,this)})),i)if(P={values:u(Be),keys:o?v:u(zf),entries:u(Xf)},a)for(F in P)(ut||l||!(F in f))&&Zn(f,F,P[F]);else Qg({target:e,proto:!0,forced:ut||l},P);return(!at||a)&&f[Ue]!==v&&Zn(f,Ue,v,{name:i}),Yf[e]=v,P}});var nv=s(()=>{"use strict";var uq=bf().charAt,cq=Un(),rv=Ce(),lq=Qn(),tv="String Iterator",fq=rv.set,vq=rv.getterFor(tv);lq(String,"String",function(t){fq(this,{type:tv,string:cq(t),index:0})},function(){var e=vq(this),r=e.string,n=e.index,i;return n>=r.length?{value:void 0,done:!0}:(i=uq(r,n),e.index+=i.length,{value:i,done:!1})})});var ov=s((e0,iv)=>{iv.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var uv=s((r0,av)=>{var hq=Ur(),ei=hq("span").classList,sv=ei&&ei.constructor&&ei.constructor.prototype;av.exports=sv===Object.prototype?void 0:sv});var lv=s((t0,cv)=>{var pq=x(),bq=st(),dq=$().f,ri=pq("unscopables"),ti=Array.prototype;ti[ri]==null&&dq(ti,ri,{configurable:!0,value:bq(null)});cv.exports=function(t){ti[ri][t]=!0}});var dv=s((n0,bv)=>{"use strict";var yq=ce(),ni=lv(),fv=pe(),hv=Ce(),_q=$().f,mq=Qn(),Oq=Pe(),Sq=k(),pv="Array Iterator",wq=hv.set,gq=hv.getterFor(pv);bv.exports=mq(Array,"Array",function(t,e){wq(this,{type:pv,target:yq(t),index:0,kind:e})},function(){var t=gq(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");var vv=fv.Arguments=fv.Array;ni("keys");ni("values");ni("entries");if(!Oq&&Sq&&vv.name!=="values")try{_q(vv,"name",{value:"values"})}catch{}});var wv=s(()=>{var yv=_(),mv=ov(),qq=uv(),$e=dv(),ii=ve(),Ov=x(),oi=Ov("iterator"),_v=Ov("toStringTag"),si=$e.values,Sv=function(t,e){if(t){if(t[oi]!==si)try{ii(t,oi,si)}catch{t[oi]=si}if(t[_v]||ii(t,_v,e),mv[e]){for(var r in $e)if(t[r]!==$e[r])try{ii(t,r,$e[r])}catch{t[r]=$e[r]}}}};for(ct in mv)Sv(yv[ct]&&yv[ct].prototype,ct);var ct;Sv(qq,"DOMTokenList")});var qv=s((s0,gv)=>{Ql();af();lf();nv();wv();var xq=Nn();gv.exports=xq.Observable});var Ev=s((a0,xv)=>{xv.exports=qv()});var vt=pt(Ga()),Iv=pt(Va());var ft=pt(Ev());function lt(t=100){return new Promise(e=>setTimeout(e,t))}function Tv(t){let e=[],r=new ft.default(n=>{let i=t&&t(n);return e.push(n),()=>{removeInline(e,n),i&&i()}});return{complete:()=>e.forEach(n=>n.complete()),error:n=>e.forEach(i=>i.error(n)),next:n=>e.forEach(i=>i.next(n)),observable:r}}function jv(t){let e=[],r;return new ft.default(n=>(e.push(n),r||(r=t.subscribe({complete:()=>e.forEach(i=>i.complete()),error:i=>e.forEach(o=>o.error(i)),next:i=>e.forEach(o=>o.next(i))})),()=>{let i=e.indexOf(n);~i&&e.splice(i,1),e.length||(r.unsubscribe(),r=null)}))}function ai(t){let e=Tv(()=>{e.next(0)}),r=Tv(()=>{(async function(){e.next(1),e.next(2),await lt(1e3);for(let n of t)r.next(n),await lt(200)})()});return{activity$:jv(r.observable),connectionStatus$:jv(e.observable),end:()=>{},postActivity:n=>{let i=Math.random().toString(36).substring(2,7);return r.next({...n,id:i,timestamp:new Date().toISOString()}),ft.default.from([i])}}}function ui(t){return t==="localhost"||(t||"").startsWith("localhost:")}var Eq=["flex","z-index","zoom"];function Ge(t,e={},...r){let n=document.createElement(t);if(Object.keys(e).forEach(i=>{let o=e[i];if(i==="className")n.className=e.className;else if(/^on[A-Z]/.test(i))n.addEventListener(i.substr(2).toLowerCase(),o.bind(n));else if(i==="style"){let{style:a}=e,u=[];Object.keys(a).forEach(c=>{let l=a[c],f=c.replace(/[A-Z]/gu,p=>`-${p.toLowerCase()}`);Eq.includes(f)&&(l+=""),u.push(`${f}: ${typeof l=="number"?`${l}px`:l}`)}),n.setAttribute(i,u.join("; "))}else typeof o=="boolean"?o&&n.setAttribute(i,""):typeof o<"u"&&n.setAttribute(i,o)}),r.length){let i=document.createDocumentFragment();r.forEach(o=>i.appendChild(typeof o=="string"?document.createTextNode(o):o)),n.appendChild(i)}return n}function ci(t,e){return new Promise((r,n)=>{document.head.appendChild(Ge("script",{async:!0,...e?{crossOrigin:"anonymous",integrity:e}:{},onError:n,onLoad:r,src:t}))})}function li(t,e){document.head.appendChild(Ge("link",{...e?{crossOrigin:"anonymous",integrity:e}:{},href:t,rel:"stylesheet"}))}async function Y(t){let[e,r]=Array.isArray(t)?t:[t,void 0];return/\.css$/i.test(e)?li(e,r):await ci(e,r)}async function Tq(){let t=new URLSearchParams(location.search),e=t.get("dd"),r=t.get("p")==="ase",n=t.get("p")==="dls",i=t.get("p")==="rest",o=t.get("p")==="blob",a=t.get("st"),u=t.get("sk"),c=t.get("sr"),l=t.get("blob"),f=t.get("cid"),p=t.get("ds"),v=t.get("dt"),b=t.get("userid"),h=t.get("v")||"latest",P=!r&&!i&&!o,F=e?ui(e)?`http://${e}${r?"/.bot":""}/v3/directline`:`https://${e}${r?"/.bot":""}/v3/directline`:void 0,m,H="https://github.com/microsoft/BotFramework-WebChat/releases/download/daily/webchat-es5.js";if(/^0/.test(h))m=[`https://unpkg.com/botframework-webchat@${h}/botchat.js`,`https://unpkg.com/botframework-webchat@${h}/botchat.css`,`https://unpkg.com/botframework-webchat@${h}/CognitiveServices.js`],console.warn(`Using Web Chat from ${m[0]}`);else if(/^4\.\d+\.\d+-/.test(h))m=[`https://unpkg.com/botframework-webchat@${h}/dist/webchat-es5.js`],console.warn(`Using Web Chat from ${m[0]}`);else if(/^4/.test(h))m=[`https://cdn.botframework.com/botframework-webchat/${h}/webchat-es5.js`],console.warn(`Using Web Chat from ${m[0]}`);else if(h==="dev")m=[H],console.warn(`Using Web Chat from ${H}`);else{try{let S=`${h}directline.js`;await Y(`${S}?_=${Date.now()}`),console.warn(`Using DirectLineJS from ${S}`)}catch{try{let O=`${h}directLine.js`;await Y(`${O}?_=${Date.now()}`),console.warn(`Using DirectLineJS from ${O}`)}catch{}}try{let S=`${h}webchat-es5.js`;await Y(`${S}?_=${Date.now()}`),console.warn(`Using Web Chat from ${S}`)}catch{try{let O=`${h}webchat.js`;await Y(`${O}?_=${Date.now()}`),console.warn(`Using Web Chat from ${O}`)}catch{await Y(H),console.warn(`Using Web Chat from ${H}`)}}if(e&&p&&!v){b=`dl_${(0,Iv.default)().toString(36).substr(2,10)}`;let O=await(await fetch(`https://${e}/.bot/v3/directline/tokens/generate`,{body:JSON.stringify({User:{Id:b}}),headers:{authorization:`Bearer ${p}`,"Content-Type":"application/json"},method:"POST"})).json();p=null,v=O.token,f=O.conversationId}}await Promise.all((m||[]).map(S=>Y(S)));let z;if(r){let S;typeof window.DirectLine<"u"?(console.warn("Using DirectLineJS from the bundle of directLine.js."),S=O=>new window.DirectLine.DirectLineStreaming(O)):window.WebChat&&window.WebChat.createDirectLineAppServiceExtension?(console.warn("Using DirectLineJS from the bundle of Web Chat v4."),S=O=>new window.WebChat.createDirectLineAppServiceExtension(O)):(console.warn("Using DirectLineJS from Web Chat Loader."),S=O=>new vt.DirectLineStreaming(O)),z={directLine:await S({conversationId:f,domain:F,token:v})}}else if(n)console.warn("Using Direct Line Speech chat adapter from the bundle of Web Chat v4."),z=await window.WebChat.createDirectLineSpeechAdapters({fetchCredentials:a?{authorizationToken:a,region:c}:{region:c,subscriptionKey:u}});else if(o){console.warn(`Using transcript from ${l}.`);let S=[];try{let O=await fetch(l);if(!O.ok)throw new Error("Failed to load transcript from browser memory.");S=await O.json()}catch{}z={directLine:ai(S)}}else{let S;typeof window.DirectLine<"u"?(console.warn("Using DirectLineJS from the bundle of directLine.js."),S=O=>new window.DirectLine.DirectLine(O)):window.WebChat&&window.WebChat.createDirectLine?(console.warn("Using DirectLineJS from the bundle of Web Chat v4."),S=O=>new window.WebChat.createDirectLine(O)):window.BotChat&&window.BotChat.DirectLine?(console.warn("Using DirectLineJS from the bundle of Web Chat v3."),S=O=>new window.BotChat.DirectLine(O)):(console.warn("Using DirectLineJS from Web Chat Loader."),S=O=>new vt.DirectLine(O)),z={directLine:S({domain:F,...v?{token:v}:p?{secret:p}:{},webSocket:P})}}let ht=document.getElementById("webchat");if(/^0/.test(h))ht.style.position="relative",window.BotChat.App({botConnection:z.directLine,speechOptions:{speechRecognizer:new CognitiveServices.SpeechRecognizer({subscriptionKey:u}),speechSynthesizer:new CognitiveServices.SpeechSynthesizer({gender:CognitiveServices.SynthesisGender.Female,subscriptionKey:u,voiceName:"Microsoft Server Speech Text to Speech Voice (en-US, JessaRUS)"})},user:{id:b,name:"You"}},ht);else{if(!n&&(a||u)){let S={};z.webSpeechPonyfillFactory=await window.WebChat.createCognitiveServicesSpeechServicesPonyfillFactory({...S,credentials:()=>({region:c,...a?{authorizationToken:a}:{subscriptionKey:u}})})}window.WebChat.renderWebChat({...z,sendTypingIndicator:!0},ht)}document.querySelector("#webchat > *").focus()}Tq().catch(t=>console.error(t));})();

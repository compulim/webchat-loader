(()=>{var Iv=Object.create;var li=Object.defineProperty;var Pv=Object.getOwnPropertyDescriptor;var Av=Object.getOwnPropertyNames;var Cv=Object.getPrototypeOf,Rv=Object.prototype.hasOwnProperty;var s=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var kv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Av(e))!Rv.call(t,i)&&i!==r&&li(t,i,{get:()=>e[i],enumerable:!(n=Pv(e,i))||n.enumerable});return t};var ht=(t,e,r)=>(r=t!=null?Iv(Cv(t)):{},kv(e||!t||!t.__esModule?li(r,"default",{value:t,enumerable:!0}):r,t));var We=s((jq,fi)=>{function Lv(t){return t&&t.__esModule?t:{default:t}}fi.exports=Lv});var hi=s((Iq,vi)=>{function Dv(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}vi.exports=Dv});var bi=s((Pq,pi)=>{var Mv=hi();function Fv(t,e){if(t==null)return{};var r=Mv(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(r[n]=t[n]))}return r}pi.exports=Fv});var yi=s((Aq,di)=>{function Nv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}di.exports=Nv});var Oi=s((Cq,mi)=>{function _i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Uv(t,e,r){return e&&_i(t.prototype,e),r&&_i(t,r),t}mi.exports=Uv});var wi=s((Rq,Si)=>{function Bv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Si.exports=Bv});var N=s(qi=>{"use strict";var $v=typeof window<"u"&&window,Gv=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,Wv=typeof global<"u"&&global,gi=$v||Wv||Gv;qi.root=gi;(function(){if(!gi)throw new Error("RxJS could not find any global context (window, self, global)")})()});var pt=s(xi=>{"use strict";function Vv(t){return typeof t=="function"}xi.isFunction=Vv});var be=s(Ei=>{"use strict";Ei.isArray=Array.isArray||function(t){return t&&typeof t.length=="number"}});var bt=s(Ti=>{"use strict";function Kv(t){return t!=null&&typeof t=="object"}Ti.isObject=Kv});var de=s(ji=>{"use strict";ji.errorObject={e:{}}});var Ve=s(Ai=>{"use strict";var Ii=de(),Pi;function Yv(){try{return Pi.apply(this,arguments)}catch(t){return Ii.errorObject.e=t,Ii.errorObject}}function Hv(t){return Pi=t,Yv}Ai.tryCatch=Hv});var Ci=s(Ke=>{"use strict";var zv=Ke&&Ke.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Xv=function(t){zv(e,t);function e(r){t.call(this),this.errors=r;var n=Error.call(this,r?r.length+` errors occurred during unsubscription:
  `+r.map(function(i,o){return o+1+") "+i.toString()}).join(`
  `):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return e}(Error);Ke.UnsubscriptionError=Xv});var ie=s(Li=>{"use strict";var Jv=be(),Zv=bt(),Qv=pt(),Ri=Ve(),ne=de(),Ye=Ci(),eh=function(){function t(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e=!1,r;if(!this.closed){var n=this,i=n._parent,o=n._parents,a=n._unsubscribe,u=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var c=-1,l=o?o.length:0;i;)i.remove(this),i=++c<l&&o[c]||null;if(Qv.isFunction(a)){var f=Ri.tryCatch(a).call(this);f===ne.errorObject&&(e=!0,r=r||(ne.errorObject.e instanceof Ye.UnsubscriptionError?ki(ne.errorObject.e.errors):[ne.errorObject.e]))}if(Jv.isArray(u))for(c=-1,l=u.length;++c<l;){var h=u[c];if(Zv.isObject(h)){var f=Ri.tryCatch(h.unsubscribe).call(h);if(f===ne.errorObject){e=!0,r=r||[];var v=ne.errorObject.e;v instanceof Ye.UnsubscriptionError?r=r.concat(ki(v.errors)):r.push(v)}}}if(e)throw new Ye.UnsubscriptionError(r)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(typeof r._addParent!="function"){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=this._subscriptions||(this._subscriptions=[]);return i.push(r),r._addParent(this),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.prototype._addParent=function(e){var r=this,n=r._parent,i=r._parents;!n||n===e?this._parent=e:i?i.indexOf(e)===-1&&i.push(e):this._parents=[e]},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();Li.Subscription=eh;function ki(t){return t.reduce(function(e,r){return e.concat(r instanceof Ye.UnsubscriptionError?r.errors:r)},[])}});var dt=s(Di=>{"use strict";Di.empty={closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}});var ze=s(He=>{"use strict";var rh=N(),yt=rh.root.Symbol;He.rxSubscriber=typeof yt=="function"&&typeof yt.for=="function"?yt.for("rxSubscriber"):"@@rxSubscriber";He.$$rxSubscriber=He.rxSubscriber});var E=s(Xe=>{"use strict";var Ni=Xe&&Xe.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Mi=pt(),th=ie(),_t=dt(),mt=ze(),Ot=function(t){Ni(e,t);function e(r,n,i){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=_t.empty;break;case 1:if(!r){this.destination=_t.empty;break}if(typeof r=="object"){if(nh(r)){var o=r[mt.rxSubscriber]();this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)}else this.syncErrorThrowable=!0,this.destination=new Fi(this,r);break}default:this.syncErrorThrowable=!0,this.destination=new Fi(this,r,n,i);break}}return e.prototype[mt.rxSubscriber]=function(){return this},e.create=function(r,n,i){var o=new e(r,n,i);return o.syncErrorThrowable=!1,o},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this,n=r._parent,i=r._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=n,this._parents=i,this},e}(th.Subscription);Xe.Subscriber=Ot;var Fi=function(t){Ni(e,t);function e(r,n,i,o){t.call(this),this._parentSubscriber=r;var a,u=this;Mi.isFunction(n)?a=n:n&&(a=n.next,i=n.error,o=n.complete,n!==_t.empty&&(u=Object.create(n),Mi.isFunction(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=a,this._error=i,this._complete=o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;n.syncErrorThrowable?this.__tryOrSetError(n,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber;if(this._error)n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)n.syncErrorValue=r,n.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),r}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};n.syncErrorThrowable?(this.__tryOrSetError(n,i),this.unsubscribe()):(this.__tryOrUnsub(i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){throw this.unsubscribe(),i}},e.prototype.__tryOrSetError=function(r,n,i){try{n.call(this._context,i)}catch(o){return r.syncErrorValue=o,r.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(Ot);function nh(t){return t instanceof Ot||"syncErrorThrowable"in t&&t[mt.rxSubscriber]}});var $i=s(Bi=>{"use strict";var St=E(),Ui=ze(),ih=dt();function oh(t,e,r){if(t){if(t instanceof St.Subscriber)return t;if(t[Ui.rxSubscriber])return t[Ui.rxSubscriber]()}return!t&&!e&&!r?new St.Subscriber(ih.empty):new St.Subscriber(t,e,r)}Bi.toSubscriber=oh});var Je=s(ye=>{"use strict";var sh=N();function Gi(t){var e,r=t.Symbol;return typeof r=="function"?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}ye.getSymbolObservable=Gi;ye.observable=Gi(sh.root);ye.$$observable=ye.observable});var Vi=s(Wi=>{"use strict";function ah(){}Wi.noop=ah});var Yi=s(wt=>{"use strict";var uh=Vi();function ch(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return Ki(t)}wt.pipe=ch;function Ki(t){return t?t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}:uh.noop}wt.pipeFromArray=Ki});var d=s(Hi=>{"use strict";var A=N(),lh=$i(),fh=Je(),vh=Yi(),hh=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,o=lh.toSubscriber(e,r,n);if(i?i.call(o,this.source):o.add(this.source||!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.syncErrorThrown=!0,e.syncErrorValue=r,e.error(r)}},t.prototype.forEach=function(e,r){var n=this;if(r||(A.root.Rx&&A.root.Rx.config&&A.root.Rx.config.Promise?r=A.root.Rx.config.Promise:A.root.Promise&&(r=A.root.Promise)),!r)throw new Error("no Promise impl found");return new r(function(i,o){var a;a=n.subscribe(function(u){if(a)try{e(u)}catch(c){o(c),a.unsubscribe()}else e(u)},o,i)})},t.prototype._subscribe=function(e){return this.source.subscribe(e)},t.prototype[fh.observable]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return e.length===0?this:vh.pipeFromArray(e)(this)},t.prototype.toPromise=function(e){var r=this;if(e||(A.root.Rx&&A.root.Rx.config&&A.root.Rx.config.Promise?e=A.root.Rx.config.Promise:A.root.Promise&&(e=A.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(n,i){var o;r.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();Hi.Observable=hh});var gt=s(Ze=>{"use strict";var ph=Ze&&Ze.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},bh=function(t){ph(e,t);function e(){var r=t.call(this,"object unsubscribed");this.name=r.name="ObjectUnsubscribedError",this.stack=r.stack,this.message=r.message}return e}(Error);Ze.ObjectUnsubscribedError=bh});var zi=s(Qe=>{"use strict";var dh=Qe&&Qe.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},yh=ie(),_h=function(t){dh(e,t);function e(r,n){t.call(this),this.subject=r,this.subscriber=n,this.closed=!1}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(yh.Subscription);Qe.SubjectSubscription=_h});var me=s(oe=>{"use strict";var Et=oe&&oe.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Xi=d(),mh=E(),qt=ie(),_e=gt(),Oh=zi(),Sh=ze(),Ji=function(t){Et(e,t);function e(r){t.call(this,r),this.destination=r}return e}(mh.Subscriber);oe.SubjectSubscriber=Ji;var Zi=function(t){Et(e,t);function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return e.prototype[Sh.rxSubscriber]=function(){return new Ji(this)},e.prototype.lift=function(r){var n=new xt(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new _e.ObjectUnsubscribedError;if(!this.isStopped)for(var n=this.observers,i=n.length,o=n.slice(),a=0;a<i;a++)o[a].next(r)},e.prototype.error=function(r){if(this.closed)throw new _e.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,o=n.slice(),a=0;a<i;a++)o[a].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new _e.ObjectUnsubscribedError;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),o=0;o<n;o++)i[o].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new _e.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new _e.ObjectUnsubscribedError;return this.hasError?(r.error(this.thrownError),qt.Subscription.EMPTY):this.isStopped?(r.complete(),qt.Subscription.EMPTY):(this.observers.push(r),new Oh.SubjectSubscription(this,r))},e.prototype.asObservable=function(){var r=new Xi.Observable;return r.source=this,r},e.create=function(r,n){return new xt(r,n)},e}(Xi.Observable);oe.Subject=Zi;var xt=function(t){Et(e,t);function e(r,n){t.call(this),this.destination=r,this.source=n}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):qt.Subscription.EMPTY},e}(Zi);oe.AnonymousSubject=xt});var Qi=s(er=>{"use strict";var wh=er&&er.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},gh=me(),qh=gt(),xh=function(t){wh(e,t);function e(r){t.call(this),this._value=r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new qh.ObjectUnsubscribedError;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(gh.Subject);er.BehaviorSubject=xh});var Oe=s(rr=>{"use strict";var Eh=rr&&rr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Th=E(),jh=function(t){Eh(e,t);function e(){t.apply(this,arguments)}return e.prototype.notifyNext=function(r,n,i,o,a){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(Th.Subscriber);rr.OuterSubscriber=jh});var Tt=s(eo=>{"use strict";eo.isArrayLike=function(t){return t&&typeof t.length=="number"}});var jt=s(ro=>{"use strict";function Ih(t){return t&&typeof t.subscribe!="function"&&typeof t.then=="function"}ro.isPromise=Ih});var tr=s(Se=>{"use strict";var Ph=N();function to(t){var e=t.Symbol;if(typeof e=="function")return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var r=t.Set;if(r&&typeof new r()["@@iterator"]=="function")return"@@iterator";var n=t.Map;if(n)for(var i=Object.getOwnPropertyNames(n.prototype),o=0;o<i.length;++o){var a=i[o];if(a!=="entries"&&a!=="size"&&n.prototype[a]===n.prototype.entries)return a}return"@@iterator"}Se.symbolIteratorPonyfill=to;Se.iterator=to(Ph.root);Se.$$iterator=Se.iterator});var no=s(nr=>{"use strict";var Ah=nr&&nr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Ch=E(),Rh=function(t){Ah(e,t);function e(r,n,i){t.call(this),this.parent=r,this.outerValue=n,this.outerIndex=i,this.index=0}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Ch.Subscriber);nr.InnerSubscriber=Rh});var we=s(ao=>{"use strict";var kh=N(),Lh=Tt(),Dh=jt(),Mh=bt(),Fh=d(),io=tr(),oo=no(),so=Je();function Nh(t,e,r,n){var i=new oo.InnerSubscriber(t,r,n);if(i.closed)return null;if(e instanceof Fh.Observable)return e._isScalar?(i.next(e.value),i.complete(),null):(i.syncErrorThrowable=!0,e.subscribe(i));if(Lh.isArrayLike(e)){for(var o=0,a=e.length;o<a&&!i.closed;o++)i.next(e[o]);i.closed||i.complete()}else{if(Dh.isPromise(e))return e.then(function(v){i.closed||(i.next(v),i.complete())},function(v){return i.error(v)}).then(null,function(v){kh.root.setTimeout(function(){throw v})}),i;if(e&&typeof e[io.iterator]=="function"){var u=e[io.iterator]();do{var c=u.next();if(c.done){i.complete();break}if(i.next(c.value),i.closed)break}while(!0)}else if(e&&typeof e[so.observable]=="function"){var l=e[so.observable]();if(typeof l.subscribe!="function")i.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return l.subscribe(new oo.InnerSubscriber(t,r,n))}else{var f=Mh.isObject(e)?"an invalid object":"'"+e+"'",h="You provided "+f+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";i.error(new TypeError(h))}}return null}ao.subscribeToResult=Nh});var uo=s(ir=>{"use strict";var Uh=ir&&ir.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Bh=Oe(),$h=we();function Gh(t){return function(r){var n=new Wh(t),i=r.lift(n);return n.caught=i}}ir.catchError=Gh;var Wh=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new Vh(e,this.selector,this.caught))},t}(),Vh=function(t){Uh(e,t);function e(r,n,i){t.call(this,r),this.selector=n,this.caught=i}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(i){t.prototype.error.call(this,i);return}this._unsubscribeAndRecycle(),this.add($h.subscribeToResult(this,n))}},e}(Bh.OuterSubscriber)});var lo=s(co=>{"use strict";var Kh=uo();function Yh(t){return Kh.catchError(t)(this)}co._catch=Yh});var ho=s(()=>{"use strict";var fo=d(),vo=lo();fo.Observable.prototype.catch=vo._catch;fo.Observable.prototype._catch=vo._catch});var It=s(or=>{"use strict";var Hh=or&&or.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},zh=d(),Xh=function(t){Hh(e,t);function e(r,n){t.call(this),this.value=r,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return e.create=function(r,n){return new e(r,n)},e.dispatch=function(r){var n=r.done,i=r.value,o=r.subscriber;if(n){o.complete();return}o.next(i),!o.closed&&(r.done=!0,this.schedule(r))},e.prototype._subscribe=function(r){var n=this.value,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{done:!1,value:n,subscriber:r});r.next(n),r.closed||r.complete()},e}(zh.Observable);or.ScalarObservable=Xh});var ge=s(sr=>{"use strict";var Jh=sr&&sr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Zh=d(),Qh=function(t){Jh(e,t);function e(r){t.call(this),this.scheduler=r}return e.create=function(r){return new e(r)},e.dispatch=function(r){var n=r.subscriber;n.complete()},e.prototype._subscribe=function(r){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:r});r.complete()},e}(Zh.Observable);sr.EmptyObservable=Qh});var bo=s(po=>{"use strict";function ep(t){return t&&typeof t.schedule=="function"}po.isScheduler=ep});var ur=s(ar=>{"use strict";var rp=ar&&ar.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},tp=d(),np=It(),ip=ge(),op=bo(),sp=function(t){rp(e,t);function e(r,n){t.call(this),this.array=r,this.scheduler=n,!n&&r.length===1&&(this._isScalar=!0,this.value=r[0])}return e.create=function(r,n){return new e(r,n)},e.of=function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];var i=r[r.length-1];op.isScheduler(i)?r.pop():i=null;var o=r.length;return o>1?new e(r,i):o===1?new np.ScalarObservable(r[0],i):new ip.EmptyObservable(i)},e.dispatch=function(r){var n=r.array,i=r.index,o=r.count,a=r.subscriber;if(i>=o){a.complete();return}a.next(n[i]),!a.closed&&(r.index=i+1,this.schedule(r))},e.prototype._subscribe=function(r){var n=0,i=this.array,o=i.length,a=this.scheduler;if(a)return a.schedule(e.dispatch,0,{array:i,index:n,count:o,subscriber:r});for(var u=0;u<o&&!r.closed;u++)r.next(i[u]);r.complete()},e}(tp.Observable);ar.ArrayObservable=sp});var Oo=s(se=>{"use strict";var ap=se&&se.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},up=ur(),cp=be(),lp=Oe(),fp=we(),yo={};function vp(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&cp.isArray(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(new up.ArrayObservable([n].concat(t)),new _o(r))}}se.combineLatest=vp;var _o=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new mo(e,this.project))},t}();se.CombineLatestOperator=_o;var mo=function(t){ap(e,t);function e(r,n){t.call(this,r),this.project=n,this.active=0,this.values=[],this.observables=[]}return e.prototype._next=function(r){this.values.push(yo),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var o=r[i];this.add(fp.subscribeToResult(this,o,o,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i,o,a){var u=this.values,c=u[i],l=this.toRespond?c===yo?--this.toRespond:this.toRespond:0;u[i]=n,l===0&&(this.project?this._tryProject(u):this.destination.next(u.slice()))},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(lp.OuterSubscriber);se.CombineLatestSubscriber=mo});var wo=s(So=>{"use strict";var hp=Oo();function pp(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return hp.combineLatest.apply(void 0,t)(this)}So.combineLatest=pp});var go=s(()=>{"use strict";var bp=d(),dp=wo();bp.Observable.prototype.combineLatest=dp.combineLatest});var qo=s(cr=>{"use strict";var yp=cr&&cr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},_p=E();function mp(t){return function(e){return e.lift(new Op(t,e))}}cr.count=mp;var Op=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Sp(e,this.predicate,this.source))},t}(),Sp=function(t){yp(e,t);function e(r,n,i){t.call(this,r),this.predicate=n,this.source=i,this.count=0,this.index=0}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(_p.Subscriber)});var Eo=s(xo=>{"use strict";var wp=qo();function gp(t){return wp.count(t)(this)}xo.count=gp});var To=s(()=>{"use strict";var qp=d(),xp=Eo();qp.Observable.prototype.count=xp.count});var jo=s(lr=>{"use strict";var Ep=lr&&lr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Tp=ie(),jp=function(t){Ep(e,t);function e(r,n){t.call(this)}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),this},e}(Tp.Subscription);lr.Action=jp});var Po=s(fr=>{"use strict";var Ip=fr&&fr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Io=N(),Pp=jo(),Ap=function(t){Ip(e,t);function e(r,n){t.call(this,r,n),this.scheduler=r,this.pending=!1,this.work=n}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r,this.pending=!0;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.delay=n,this.id=this.id||this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),Io.root.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1?n:Io.root.clearInterval(n)&&void 0||void 0},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o=void 0;try{this.work(r)}catch(a){i=!0,o=!!a&&a||new Error(a)}if(i)return this.unsubscribe(),o},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,o=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,o!==-1&&i.splice(o,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(Pp.Action);fr.AsyncAction=Ap});var Co=s(Ao=>{"use strict";var Cp=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=Date.now?Date.now:function(){return+new Date},t}();Ao.Scheduler=Cp});var Ro=s(vr=>{"use strict";var Rp=vr&&vr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},kp=Co(),Lp=function(t){Rp(e,t);function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(kp.Scheduler);vr.AsyncScheduler=Lp});var hr=s(ko=>{"use strict";var Dp=Po(),Mp=Ro();ko.async=new Mp.AsyncScheduler(Dp.AsyncAction)});var Do=s(Lo=>{"use strict";function Fp(t){return t instanceof Date&&!isNaN(+t)}Lo.isDate=Fp});var At=s(Mo=>{"use strict";var Pt=d(),Np=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Pt.Observable.of(this.value);case"E":return Pt.Observable.throw(this.error);case"C":return Pt.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();Mo.Notification=Np});var No=s(pr=>{"use strict";var Up=pr&&pr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Bp=hr(),$p=Do(),Gp=E(),Fo=At();function Wp(t,e){e===void 0&&(e=Bp.async);var r=$p.isDate(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new Vp(n,e))}}pr.delay=Wp;var Vp=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Kp(e,this.delay,this.scheduler))},t}(),Kp=function(t){Up(e,t);function e(r,n,i){t.call(this,r),this.delay=n,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}return e.dispatch=function(r){for(var n=r.source,i=n.queue,o=r.scheduler,a=r.destination;i.length>0&&i[0].time-o.now()<=0;)i.shift().notification.observe(a);if(i.length>0){var u=Math.max(0,i[0].time-o.now());this.schedule(r,u)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0,this.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Yp(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Fo.Notification.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r)},e.prototype._complete=function(){this.scheduleNotification(Fo.Notification.createComplete())},e}(Gp.Subscriber),Yp=function(){function t(e,r){this.time=e,this.notification=r}return t}()});var Bo=s(Uo=>{"use strict";var Hp=hr(),zp=No();function Xp(t,e){return e===void 0&&(e=Hp.async),zp.delay(t,e)(this)}Uo.delay=Xp});var $o=s(()=>{"use strict";var Jp=d(),Zp=Bo();Jp.Observable.prototype.delay=Zp.delay});var Wo=s(br=>{"use strict";var Qp=br&&br.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Go=E();function eb(t,e,r){return function(i){return i.lift(new rb(t,e,r))}}br.tap=eb;var rb=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new tb(e,this.nextOrObserver,this.error,this.complete))},t}(),tb=function(t){Qp(e,t);function e(r,n,i,o){t.call(this,r);var a=new Go.Subscriber(n,i,o);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return e.prototype._next=function(r){var n=this.safeSubscriber;n.next(r),n.syncErrorThrown?this.destination.error(n.syncErrorValue):this.destination.next(r)},e.prototype._error=function(r){var n=this.safeSubscriber;n.error(r),n.syncErrorThrown?this.destination.error(n.syncErrorValue):this.destination.error(r)},e.prototype._complete=function(){var r=this.safeSubscriber;r.complete(),r.syncErrorThrown?this.destination.error(r.syncErrorValue):this.destination.complete()},e}(Go.Subscriber)});var Ko=s(Vo=>{"use strict";var nb=Wo();function ib(t,e,r){return nb.tap(t,e,r)(this)}Vo._do=ib});var zo=s(()=>{"use strict";var Yo=d(),Ho=Ko();Yo.Observable.prototype.do=Ho._do;Yo.Observable.prototype._do=Ho._do});var Xo=s(dr=>{"use strict";var ob=dr&&dr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},sb=E();function ab(t,e){return function(n){return n.lift(new ub(t,e))}}dr.filter=ab;var ub=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new cb(e,this.predicate,this.thisArg))},t}(),cb=function(t){ob(e,t);function e(r,n,i){t.call(this,r),this.predicate=n,this.thisArg=i,this.count=0}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(sb.Subscriber)});var Zo=s(Jo=>{"use strict";var lb=Xo();function fb(t,e){return lb.filter(t,e)(this)}Jo.filter=fb});var Qo=s(()=>{"use strict";var vb=d(),hb=Zo();vb.Observable.prototype.filter=hb.filter});var Ct=s(qe=>{"use strict";var pb=qe&&qe.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},bb=E();function db(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new es(t,e))}}qe.map=db;var es=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new yb(e,this.project,this.thisArg))},t}();qe.MapOperator=es;var yb=function(t){pb(e,t);function e(r,n,i){t.call(this,r),this.project=n,this.count=0,this.thisArg=i||this}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(bb.Subscriber)});var ts=s(rs=>{"use strict";var _b=Ct();function mb(t,e){return _b.map(t,e)(this)}rs.map=mb});var ns=s(()=>{"use strict";var Ob=d(),Sb=ts();Ob.Observable.prototype.map=Sb.map});var ss=s(ae=>{"use strict";var wb=ae&&ae.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},gb=we(),qb=Oe();function xb(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(i){return typeof e=="number"&&(r=e,e=null),i.lift(new is(t,e,r))}}ae.mergeMap=xb;var is=function(){function t(e,r,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new os(e,this.project,this.resultSelector,this.concurrent))},t}();ae.MergeMapOperator=is;var os=function(t){wb(e,t);function e(r,n,i,o){o===void 0&&(o=Number.POSITIVE_INFINITY),t.call(this,r),this.project=n,this.resultSelector=i,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(o){this.destination.error(o);return}this.active++,this._innerSub(n,r,i)},e.prototype._innerSub=function(r,n,i){this.add(gb.subscribeToResult(this,r,n,i))},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i,o,a){this.resultSelector?this._notifyResultSelector(r,n,i,o):this.destination.next(n)},e.prototype._notifyResultSelector=function(r,n,i,o){var a;try{a=this.resultSelector(r,n,i,o)}catch(u){this.destination.error(u);return}this.destination.next(a)},e.prototype.notifyComplete=function(r){var n=this.buffer;this.remove(r),this.active--,n.length>0?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(qb.OuterSubscriber);ae.MergeMapSubscriber=os});var us=s(as=>{"use strict";var Eb=ss();function Tb(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),Eb.mergeMap(t,e,r)(this)}as.mergeMap=Tb});var fs=s(()=>{"use strict";var cs=d(),ls=us();cs.Observable.prototype.mergeMap=ls.mergeMap;cs.Observable.prototype.flatMap=ls.mergeMap});var hs=s(yr=>{"use strict";var jb=yr&&yr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Ib=me(),Pb=Ve(),vs=de(),Ab=Oe(),Cb=we();function Rb(t){return function(e){return e.lift(new kb(t,e))}}yr.retryWhen=Rb;var kb=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Lb(e,this.notifier,this.source))},t}(),Lb=function(t){jb(e,t);function e(r,n,i){t.call(this,r),this.notifier=n,this.source=i}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,o=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{if(n=new Ib.Subject,i=Pb.tryCatch(this.notifier)(n),i===vs.errorObject)return t.prototype.error.call(this,vs.errorObject.e);o=Cb.subscribeToResult(this,i)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=o,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=null),i&&(i.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(r,n,i,o,a){var u=this,c=u.errors,l=u.retries,f=u.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=c,this.retries=l,this.retriesSubscription=f,this.source.subscribe(this)},e}(Ab.OuterSubscriber)});var bs=s(ps=>{"use strict";var Db=hs();function Mb(t){return Db.retryWhen(t)(this)}ps.retryWhen=Mb});var ds=s(()=>{"use strict";var Fb=d(),Nb=bs();Fb.Observable.prototype.retryWhen=Nb.retryWhen});var Rt=s(_r=>{"use strict";var Ub=_r&&_r.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Bb=E();function $b(){return function(e){return e.lift(new Gb(e))}}_r.refCount=$b;var Gb=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Wb(e,n),o=r.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),Wb=function(t){Ub(e,t);function e(r,n){t.call(this,r),this.connectable=n}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=r._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(Bb.Subscriber)});var ms=s(Ee=>{"use strict";var kt=Ee&&Ee.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Vb=me(),Kb=d(),Yb=E(),ys=ie(),Hb=Rt(),_s=function(t){kt(e,t);function e(r,n){t.call(this),this.source=r,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ys.Subscription,r.add(this.source.subscribe(new zb(this.getSubject(),this))),r.closed?(this._connection=null,r=ys.Subscription.EMPTY):this._connection=r),r},e.prototype.refCount=function(){return Hb.refCount()(this)},e}(Kb.Observable);Ee.ConnectableObservable=_s;var xe=_s.prototype;Ee.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:xe._subscribe},_isComplete:{value:xe._isComplete,writable:!0},getSubject:{value:xe.getSubject},connect:{value:xe.connect},refCount:{value:xe.refCount}};var zb=function(t){kt(e,t);function e(r,n){t.call(this,r),this.connectable=n}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Vb.SubjectSubscriber),eE=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Xb(e,n),o=r.subscribe(i);return i.closed||(i.connection=n.connect()),o},t}(),Xb=function(t){kt(e,t);function e(r,n){t.call(this,r),this.connectable=n}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,o=r._connection;this.connection=null,o&&(!i||o===i)&&o.unsubscribe()},e}(Yb.Subscriber)});var Ss=s(Lt=>{"use strict";var Jb=ms();function Zb(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Os(i,e));var o=Object.create(n,Jb.connectableObservableDescriptor);return o.source=n,o.subjectFactory=i,o}}Lt.multicast=Zb;var Os=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),o=n(i).subscribe(e);return o.add(r.subscribe(i)),o},t}();Lt.MulticastOperator=Os});var gs=s(ws=>{"use strict";var Qb=Ss(),ed=Rt(),rd=me();function td(){return new rd.Subject}function nd(){return function(t){return ed.refCount()(Qb.multicast(td)(t))}}ws.share=nd});var xs=s(qs=>{"use strict";var id=gs();function od(){return id.share()(this)}qs.share=od});var Es=s(()=>{"use strict";var sd=d(),ad=xs();sd.Observable.prototype.share=ad.share});var Ts=s(mr=>{"use strict";var ud=mr&&mr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},cd=function(t){ud(e,t);function e(){var r=t.call(this,"argument out of range");this.name=r.name="ArgumentOutOfRangeError",this.stack=r.stack,this.message=r.message}return e}(Error);mr.ArgumentOutOfRangeError=cd});var js=s(Or=>{"use strict";var ld=Or&&Or.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},fd=E(),vd=Ts(),hd=ge();function pd(t){return function(e){return t===0?new hd.EmptyObservable:e.lift(new bd(t))}}Or.take=pd;var bd=function(){function t(e){if(this.total=e,this.total<0)throw new vd.ArgumentOutOfRangeError}return t.prototype.call=function(e,r){return r.subscribe(new dd(e,this.total))},t}(),dd=function(t){ld(e,t);function e(r,n){t.call(this,r),this.total=n,this.count=0}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(fd.Subscriber)});var Ps=s(Is=>{"use strict";var yd=js();function _d(t){return yd.take(t)(this)}Is.take=_d});var As=s(()=>{"use strict";var md=d(),Od=Ps();md.Observable.prototype.take=Od.take});var $s=s(T=>{"use strict";var wr=T&&T.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},I=N(),Te=Ve(),ue=de(),Sd=d(),wd=E(),gd=Ct();function qd(){if(I.root.XMLHttpRequest)return new I.root.XMLHttpRequest;if(I.root.XDomainRequest)return new I.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function xd(){if(I.root.XMLHttpRequest)return new I.root.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(t=e[r],new I.root.ActiveXObject(t))break}catch{}return new I.root.ActiveXObject(t)}catch{throw new Error("XMLHttpRequest is not supported by your browser")}}function Cs(t,e){return e===void 0&&(e=null),new X({method:"GET",url:t,headers:e})}T.ajaxGet=Cs;function Rs(t,e,r){return new X({method:"POST",url:t,body:e,headers:r})}T.ajaxPost=Rs;function ks(t,e){return new X({method:"DELETE",url:t,headers:e})}T.ajaxDelete=ks;function Ls(t,e,r){return new X({method:"PUT",url:t,body:e,headers:r})}T.ajaxPut=Ls;function Ds(t,e,r){return new X({method:"PATCH",url:t,body:e,headers:r})}T.ajaxPatch=Ds;var Ed=gd.map(function(t,e){return t.response});function Ms(t,e){return Ed(new X({method:"GET",url:t,responseType:"json",headers:e}))}T.ajaxGetJSON=Ms;var X=function(t){wr(e,t);function e(r){t.call(this);var n={async:!0,createXHR:function(){return this.crossDomain?qd.call(this):xd()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if(typeof r=="string")n.url=r;else for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);this.request=n}return e.prototype._subscribe=function(r){return new Fs(r,this.request)},e.create=function(){var r=function(n){return new e(n)};return r.get=Cs,r.post=Rs,r.delete=ks,r.put=Ls,r.patch=Ds,r.getJSON=Ms,r}(),e}(Sd.Observable);T.AjaxObservable=X;var Fs=function(t){wr(e,t);function e(r,n){t.call(this,r),this.request=n,this.done=!1;var i=n.headers=n.headers||{};!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest"),!("Content-Type"in i)&&!(I.root.FormData&&n.body instanceof I.root.FormData)&&typeof n.body<"u"&&(i["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=this.serializeBody(n.body,n.headers["Content-Type"]),this.send()}return e.prototype.next=function(r){this.done=!0;var n=this,i=n.xhr,o=n.request,a=n.destination,u=new Ns(r,i,o);a.next(u)},e.prototype.send=function(){var r=this,n=r.request,i=r.request,o=i.user,a=i.method,u=i.url,c=i.async,l=i.password,f=i.headers,h=i.body,v=n.createXHR,b=Te.tryCatch(v).call(n);if(b===ue.errorObject)this.error(ue.errorObject.e);else{this.xhr=b,this.setupEvents(b,n);var p=void 0;if(o?p=Te.tryCatch(b.open).call(b,a,u,c,o,l):p=Te.tryCatch(b.open).call(b,a,u,c),p===ue.errorObject)return this.error(ue.errorObject.e),null;if(c&&(b.timeout=n.timeout,b.responseType=n.responseType),"withCredentials"in b&&(b.withCredentials=!!n.withCredentials),this.setHeaders(b,f),p=h?Te.tryCatch(b.send).call(b,h):Te.tryCatch(b.send).call(b),p===ue.errorObject)return this.error(ue.errorObject.e),null}return b},e.prototype.serializeBody=function(r,n){if(!r||typeof r=="string")return r;if(I.root.FormData&&r instanceof I.root.FormData)return r;if(n){var i=n.indexOf(";");i!==-1&&(n=n.substring(0,i))}switch(n){case"application/x-www-form-urlencoded":return Object.keys(r).map(function(o){return encodeURIComponent(o)+"="+encodeURIComponent(r[o])}).join("&");case"application/json":return JSON.stringify(r);default:return r}},e.prototype.setHeaders=function(r,n){for(var i in n)n.hasOwnProperty(i)&&r.setRequestHeader(i,n[i])},e.prototype.setupEvents=function(r,n){var i=n.progressSubscriber;function o(l){var f=o,h=f.subscriber,v=f.progressSubscriber,b=f.request;v&&v.error(l),h.error(new Bs(this,b))}if(r.ontimeout=o,o.request=n,o.subscriber=this,o.progressSubscriber=i,r.upload&&"withCredentials"in r){if(i){var a;a=function(l){var f=a.progressSubscriber;f.next(l)},I.root.XDomainRequest?r.onprogress=a:r.upload.onprogress=a,a.progressSubscriber=i}var u;u=function(l){var f=u,h=f.progressSubscriber,v=f.subscriber,b=f.request;h&&h.error(l),v.error(new Sr("ajax error",this,b))},r.onerror=u,u.request=n,u.subscriber=this,u.progressSubscriber=i}function c(l){var f=c,h=f.subscriber,v=f.progressSubscriber,b=f.request;if(this.readyState===4){var p=this.status===1223?204:this.status,P=this.responseType==="text"?this.response||this.responseText:this.response;p===0&&(p=P?200:0),200<=p&&p<300?(v&&v.complete(),h.next(l),h.complete()):(v&&v.error(l),h.error(new Sr("ajax error "+p,this,b)))}}r.onreadystatechange=c,c.subscriber=this,c.progressSubscriber=i,c.request=n},e.prototype.unsubscribe=function(){var r=this,n=r.done,i=r.xhr;!n&&i&&i.readyState!==4&&typeof i.abort=="function"&&i.abort(),t.prototype.unsubscribe.call(this)},e}(wd.Subscriber);T.AjaxSubscriber=Fs;var Ns=function(){function t(e,r,n){this.originalEvent=e,this.xhr=r,this.request=n,this.status=r.status,this.responseType=r.responseType||n.responseType,this.response=Us(this.responseType,r)}return t}();T.AjaxResponse=Ns;var Sr=function(t){wr(e,t);function e(r,n,i){t.call(this,r),this.message=r,this.xhr=n,this.request=i,this.status=n.status,this.responseType=n.responseType||i.responseType,this.response=Us(this.responseType,n)}return e}(Error);T.AjaxError=Sr;function Us(t,e){switch(t){case"json":return"response"in e?e.responseType?e.response:JSON.parse(e.response||e.responseText||"null"):JSON.parse(e.responseText||"null");case"xml":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}}var Bs=function(t){wr(e,t);function e(r,n){t.call(this,"ajax timeout",r,n)}return e}(Sr);T.AjaxTimeoutError=Bs});var Ws=s(Gs=>{"use strict";var Td=$s();Gs.ajax=Td.AjaxObservable.create});var Vs=s(()=>{"use strict";var jd=d(),Id=Ws();jd.Observable.ajax=Id.ajax});var Ys=s(Ks=>{"use strict";var Pd=ge();Ks.empty=Pd.EmptyObservable.create});var Hs=s(()=>{"use strict";var Ad=d(),Cd=Ys();Ad.Observable.empty=Cd.empty});var Js=s(gr=>{"use strict";var Rd=gr&&gr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},zs=N(),kd=d(),Ld=function(t){Rd(e,t);function e(r,n){t.call(this),this.promise=r,this.scheduler=n}return e.create=function(r,n){return new e(r,n)},e.prototype._subscribe=function(r){var n=this,i=this.promise,o=this.scheduler;if(o==null)this._isScalar?r.closed||(r.next(this.value),r.complete()):i.then(function(a){n.value=a,n._isScalar=!0,r.closed||(r.next(a),r.complete())},function(a){r.closed||r.error(a)}).then(null,function(a){zs.root.setTimeout(function(){throw a})});else if(this._isScalar){if(!r.closed)return o.schedule(Xs,0,{value:this.value,subscriber:r})}else i.then(function(a){n.value=a,n._isScalar=!0,r.closed||r.add(o.schedule(Xs,0,{value:a,subscriber:r}))},function(a){r.closed||r.add(o.schedule(Dd,0,{err:a,subscriber:r}))}).then(null,function(a){zs.root.setTimeout(function(){throw a})})},e}(kd.Observable);gr.PromiseObservable=Ld;function Xs(t){var e=t.value,r=t.subscriber;r.closed||(r.next(e),r.complete())}function Dd(t){var e=t.err,r=t.subscriber;r.closed||r.error(e)}});var Qs=s(xr=>{"use strict";var Md=xr&&xr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Fd=N(),Nd=d(),qr=tr(),Ud=function(t){Md(e,t);function e(r,n){if(t.call(this),this.scheduler=n,r==null)throw new Error("iterator cannot be null.");this.iterator=Gd(r)}return e.create=function(r,n){return new e(r,n)},e.dispatch=function(r){var n=r.index,i=r.hasError,o=r.iterator,a=r.subscriber;if(i){a.error(r.error);return}var u=o.next();if(u.done){a.complete();return}if(a.next(u.value),r.index=n+1,a.closed){typeof o.return=="function"&&o.return();return}this.schedule(r)},e.prototype._subscribe=function(r){var n=0,i=this,o=i.iterator,a=i.scheduler;if(a)return a.schedule(e.dispatch,0,{index:n,iterator:o,subscriber:r});do{var u=o.next();if(u.done){r.complete();break}else r.next(u.value);if(r.closed){typeof o.return=="function"&&o.return();break}}while(!0)},e}(Nd.Observable);xr.IteratorObservable=Ud;var Bd=function(){function t(e,r,n){r===void 0&&(r=0),n===void 0&&(n=e.length),this.str=e,this.idx=r,this.len=n}return t.prototype[qr.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},t}(),$d=function(){function t(e,r,n){r===void 0&&(r=0),n===void 0&&(n=Wd(e)),this.arr=e,this.idx=r,this.len=n}return t.prototype[qr.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},t}();function Gd(t){var e=t[qr.iterator];if(!e&&typeof t=="string")return new Bd(t);if(!e&&t.length!==void 0)return new $d(t);if(!e)throw new TypeError("object is not iterable");return t[qr.iterator]()}var Zs=Math.pow(2,53)-1;function Wd(t){var e=+t.length;return isNaN(e)?0:e===0||!Vd(e)?e:(e=Kd(e)*Math.floor(Math.abs(e)),e<=0?0:e>Zs?Zs:e)}function Vd(t){return typeof t=="number"&&Fd.root.isFinite(t)}function Kd(t){var e=+t;return e===0||isNaN(e)?e:e<0?-1:1}});var ea=s(Er=>{"use strict";var Yd=Er&&Er.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Hd=d(),zd=It(),Xd=ge(),Jd=function(t){Yd(e,t);function e(r,n){t.call(this),this.arrayLike=r,this.scheduler=n,!n&&r.length===1&&(this._isScalar=!0,this.value=r[0])}return e.create=function(r,n){var i=r.length;return i===0?new Xd.EmptyObservable:i===1?new zd.ScalarObservable(r[0],n):new e(r,n)},e.dispatch=function(r){var n=r.arrayLike,i=r.index,o=r.length,a=r.subscriber;if(!a.closed){if(i>=o){a.complete();return}a.next(n[i]),r.index=i+1,this.schedule(r)}},e.prototype._subscribe=function(r){var n=0,i=this,o=i.arrayLike,a=i.scheduler,u=o.length;if(a)return a.schedule(e.dispatch,0,{arrayLike:o,index:n,length:u,subscriber:r});for(var c=0;c<u&&!r.closed;c++)r.next(o[c]);r.complete()},e}(Hd.Observable);Er.ArrayLikeObservable=Jd});var ia=s(J=>{"use strict";var Zd=J&&J.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},Qd=E(),Dt=At();function ey(t,e){return e===void 0&&(e=0),function(n){return n.lift(new ra(t,e))}}J.observeOn=ey;var ra=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new ta(e,this.scheduler,this.delay))},t}();J.ObserveOnOperator=ra;var ta=function(t){Zd(e,t);function e(r,n,i){i===void 0&&(i=0),t.call(this,r),this.scheduler=n,this.delay=i}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){this.add(this.scheduler.schedule(e.dispatch,this.delay,new na(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Dt.Notification.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Dt.Notification.createError(r))},e.prototype._complete=function(){this.scheduleMessage(Dt.Notification.createComplete())},e}(Qd.Subscriber);J.ObserveOnSubscriber=ta;var na=function(){function t(e,r){this.notification=e,this.destination=r}return t}();J.ObserveOnMessage=na});var sa=s(Tr=>{"use strict";var ry=Tr&&Tr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},ty=be(),ny=Tt(),iy=jt(),oy=Js(),sy=Qs(),ay=ur(),uy=ea(),cy=tr(),oa=d(),ly=ia(),Mt=Je(),fy=function(t){ry(e,t);function e(r,n){t.call(this,null),this.ish=r,this.scheduler=n}return e.create=function(r,n){if(r!=null){if(typeof r[Mt.observable]=="function")return r instanceof oa.Observable&&!n?r:new e(r,n);if(ty.isArray(r))return new ay.ArrayObservable(r,n);if(iy.isPromise(r))return new oy.PromiseObservable(r,n);if(typeof r[cy.iterator]=="function"||typeof r=="string")return new sy.IteratorObservable(r,n);if(ny.isArrayLike(r))return new uy.ArrayLikeObservable(r,n)}throw new TypeError((r!==null&&typeof r||r)+" is not observable")},e.prototype._subscribe=function(r){var n=this.ish,i=this.scheduler;return i==null?n[Mt.observable]().subscribe(r):n[Mt.observable]().subscribe(new ly.ObserveOnSubscriber(r,i,0))},e}(oa.Observable);Tr.FromObservable=fy});var ua=s(aa=>{"use strict";var vy=sa();aa.from=vy.FromObservable.create});var ca=s(()=>{"use strict";var hy=d(),py=ua();hy.Observable.from=py.from});var fa=s(la=>{"use strict";var by=be();function dy(t){return!by.isArray(t)&&t-parseFloat(t)+1>=0}la.isNumeric=dy});var va=s(jr=>{"use strict";var yy=jr&&jr.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},_y=fa(),my=d(),Ft=hr(),Oy=function(t){yy(e,t);function e(r,n){r===void 0&&(r=0),n===void 0&&(n=Ft.async),t.call(this),this.period=r,this.scheduler=n,(!_y.isNumeric(r)||r<0)&&(this.period=0),(!n||typeof n.schedule!="function")&&(this.scheduler=Ft.async)}return e.create=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=Ft.async),new e(r,n)},e.dispatch=function(r){var n=r.index,i=r.subscriber,o=r.period;i.next(n),!i.closed&&(r.index+=1,this.schedule(r,o))},e.prototype._subscribe=function(r){var n=0,i=this.period,o=this.scheduler;r.add(o.schedule(e.dispatch,i,{index:n,subscriber:r,period:i}))},e}(my.Observable);jr.IntervalObservable=Oy});var pa=s(ha=>{"use strict";var Sy=va();ha.interval=Sy.IntervalObservable.create});var ba=s(()=>{"use strict";var wy=d(),gy=pa();wy.Observable.interval=gy.interval});var ya=s(da=>{"use strict";var qy=ur();da.of=qy.ArrayObservable.of});var _a=s(()=>{"use strict";var xy=d(),Ey=ya();xy.Observable.of=Ey.of});var ma=s(Ir=>{"use strict";var Ty=Ir&&Ir.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)},jy=d(),Iy=function(t){Ty(e,t);function e(r,n){t.call(this),this.error=r,this.scheduler=n}return e.create=function(r,n){return new e(r,n)},e.dispatch=function(r){var n=r.error,i=r.subscriber;i.error(n)},e.prototype._subscribe=function(r){var n=this.error,i=this.scheduler;if(r.syncErrorThrowable=!0,i)return i.schedule(e.dispatch,0,{error:n,subscriber:r});r.error(n)},e}(jy.Observable);Ir.ErrorObservable=Iy});var Sa=s(Oa=>{"use strict";var Py=ma();Oa._throw=Py.ErrorObservable.create});var wa=s(()=>{"use strict";var Ay=d(),Cy=Sa();Ay.Observable.throw=Cy._throw});var qa=s((NE,ga)=>{function Ry(t){if(Array.isArray(t))return t}ga.exports=Ry});var Ea=s((UE,xa)=>{function ky(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}xa.exports=ky});var ja=s((BE,Ta)=>{function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Ta.exports=Ly});var Aa=s(($E,Pa)=>{var Ia=ja();function Dy(t,e){if(!!t){if(typeof t=="string")return Ia(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ia(t,e)}}Pa.exports=Dy});var Ra=s((GE,Ca)=>{function My(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Ca.exports=My});var La=s((WE,ka)=>{var Fy=qa(),Ny=Ea(),Uy=Aa(),By=Ra();function $y(t){return Fy(t)||Ny(t)||Uy(t)||By()}ka.exports=$y});var Da=s(Nt=>{"use strict";var Gy=We();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.default=Vy;var Wy=Gy(La());function Vy(t){if(t)if(~t.indexOf(".")){var e=t.split(".").reverse(),r=(0,Wy.default)(e),n=r[0],i=r.slice(1);return{extname:"."+n,name:i.reverse().join(".")}}else return{extname:"",name:t};else return{extname:"",name:""}}});var Ma=s(Ut=>{"use strict";var Ky=We();Object.defineProperty(Ut,"__esModule",{value:!0});Ut.default=Hy;var Yy=Ky(Da());function Hy(t){var e=[];return t.forEach(function(r){for(var n=(0,Yy.default)(r),i=n.extname,o=n.name,a=0,u=r;e.includes(u);)u=[o,"(".concat(++a,")")].filter(function(c){return c}).join(" ")+i;e.push(u)}),e}});var $a=s(Z=>{"use strict";var je=We();Object.defineProperty(Z,"__esModule",{value:!0});Z.DirectLine=Z.ConnectionStatus=void 0;var zy=je(bi()),Xy=je(yi()),Jy=je(Oi()),q=je(wi()),Fa=Qi(),y=d();ho();go();To();$o();zo();Qo();ns();fs();ds();Es();As();Vs();Hs();ca();ba();_a();wa();var Zy=je(Ma());function Na(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Na(r,!0).forEach(function(n){(0,q.default)(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Na(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Qy="DirectLine/3.0",w;Z.ConnectionStatus=w;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Connecting=1]="Connecting",t[t.Online=2]="Online",t[t.ExpiredToken=3]="ExpiredToken",t[t.FailedToConnect=4]="FailedToConnect",t[t.Ended=5]="Ended"})(w||(Z.ConnectionStatus=w={}));var Ua=30*60*1e3,Ba=Ua/2,C=20*1e3,Bt=(Ua-Ba)/C,e_=200,r_=new Error("expired token"),$t=new Error("conversation ended"),t_=new Error("failed to connect"),G={log:function(e){for(var r,n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];typeof window<"u"&&window.botchatDebug&&e&&(r=console).log.apply(r,[e].concat(i))}},n_=function(){function t(e){(0,Xy.default)(this,t),(0,q.default)(this,"connectionStatus$",new Fa.BehaviorSubject(w.Uninitialized)),(0,q.default)(this,"activity$",void 0),(0,q.default)(this,"domain","https://directline.botframework.com/v3/directline"),(0,q.default)(this,"webSocket",void 0),(0,q.default)(this,"conversationId",void 0),(0,q.default)(this,"expiredTokenExhaustion",void 0),(0,q.default)(this,"secret",void 0),(0,q.default)(this,"token",void 0),(0,q.default)(this,"watermark",""),(0,q.default)(this,"streamUrl",void 0),(0,q.default)(this,"_botAgent",""),(0,q.default)(this,"_userAgent",void 0),(0,q.default)(this,"referenceGrammarId",void 0),(0,q.default)(this,"pollingInterval",1e3),(0,q.default)(this,"tokenRefreshSubscription",void 0),this.secret=e.secret,this.token=e.secret||e.token,this.webSocket=(e.webSocket===void 0?!0:e.webSocket)&&typeof WebSocket<"u"&&WebSocket!==void 0,e.domain&&(this.domain=e.domain),e.conversationId&&(this.conversationId=e.conversationId),e.watermark&&(this.watermark=e.watermark),e.streamUrl&&(e.token&&e.conversationId?this.streamUrl=e.streamUrl:console.warn("DirectLineJS: streamUrl was ignored: you need to provide a token and a conversationid")),this._botAgent=this.getBotAgent(e.botAgent);var r=~~e.pollingInterval;r<e_?typeof e.pollingInterval<"u"&&console.warn("DirectLineJS: provided pollingInterval (".concat(e.pollingInterval,") is under lower bound (200ms), using default of 1000ms")):this.pollingInterval=r,this.expiredTokenExhaustion=this.setConnectionStatusFallback(w.ExpiredToken,w.FailedToConnect,5),this.activity$=(this.webSocket?this.webSocketActivity$():this.pollingGetActivity$()).share()}return(0,Jy.default)(t,[{key:"checkConnection",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=this.connectionStatus$.flatMap(function(o){return o===w.Uninitialized?(r.connectionStatus$.next(w.Connecting),r.token&&r.streamUrl?(r.connectionStatus$.next(w.Online),y.Observable.of(o)):r.startConversation().do(function(a){r.conversationId=a.conversationId,r.token=r.secret||a.token,r.streamUrl=a.streamUrl,r.referenceGrammarId=a.referenceGrammarId,r.secret||r.refreshTokenLoop(),r.connectionStatus$.next(w.Online)},function(a){r.connectionStatus$.next(w.FailedToConnect)}).map(function(a){return o})):y.Observable.of(o)}).filter(function(o){return o!=w.Uninitialized&&o!=w.Connecting}).flatMap(function(o){switch(o){case w.Ended:return y.Observable.throw($t);case w.FailedToConnect:return y.Observable.throw(t_);case w.ExpiredToken:return y.Observable.of(o);default:return y.Observable.of(o)}});return n?i.take(1):i}},{key:"setConnectionStatusFallback",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;i--;var o=0,a=null;return function(u){return u===r&&a===u&&o>=i?(o=0,n):(o++,a=u,u)}}},{key:"expiredToken",value:function(){var r=this.connectionStatus$.getValue();r!=w.Ended&&r!=w.FailedToConnect&&this.connectionStatus$.next(w.ExpiredToken);var n=this.expiredTokenExhaustion(this.connectionStatus$.getValue());this.connectionStatus$.next(n)}},{key:"startConversation",value:function(){var r=this.conversationId?"".concat(this.domain,"/conversations/").concat(this.conversationId,"?watermark=").concat(this.watermark):"".concat(this.domain,"/conversations"),n=this.conversationId?"GET":"POST";return y.Observable.ajax({method:n,url:r,timeout:C,headers:U({Accept:"application/json"},this.commonHeaders())}).map(function(i){return i.response}).retryWhen(function(i){return i.mergeMap(function(o){return o.status>=400&&o.status<600?y.Observable.throw(o):y.Observable.of(o)}).delay(C).take(Bt)})}},{key:"refreshTokenLoop",value:function(){var r=this;this.tokenRefreshSubscription=y.Observable.interval(Ba).flatMap(function(n){return r.refreshToken()}).subscribe(function(n){G.log("refreshing token",n,"at",new Date),r.token=n})}},{key:"refreshToken",value:function(){var r=this;return this.checkConnection(!0).flatMap(function(n){return y.Observable.ajax({method:"POST",url:"".concat(r.domain,"/tokens/refresh"),timeout:C,headers:U({},r.commonHeaders())}).map(function(i){return i.response.token}).retryWhen(function(i){return i.mergeMap(function(o){return o.status===403?(r.expiredToken(),y.Observable.throw(o)):o.status===404?y.Observable.throw(o):y.Observable.of(o)}).delay(C).take(Bt)})})}},{key:"reconnect",value:function(r){this.token=r.token,this.streamUrl=r.streamUrl,this.connectionStatus$.getValue()===w.ExpiredToken&&this.connectionStatus$.next(w.Online)}},{key:"end",value:function(){this.tokenRefreshSubscription&&this.tokenRefreshSubscription.unsubscribe();try{this.connectionStatus$.next(w.Ended)}catch(r){if(r===$t)return;throw r}}},{key:"getSessionId",value:function(){var r=this;return G.log("getSessionId"),this.checkConnection(!0).flatMap(function(n){return y.Observable.ajax({method:"GET",url:"".concat(r.domain,"/session/getsessionid"),withCredentials:!0,timeout:C,headers:U({"Content-Type":"application/json"},r.commonHeaders())}).map(function(i){return i&&i.response&&i.response.sessionId?(G.log("getSessionId response: "+i.response.sessionId),i.response.sessionId):""}).catch(function(i){return G.log("getSessionId error: "+i.status),y.Observable.of("")})}).catch(function(n){return r.catchExpiredToken(n)})}},{key:"postActivity",value:function(r){var n=this;return r.type==="message"&&r.attachments&&r.attachments.length>0?this.postMessageWithAttachments(r):(G.log("postActivity",r),this.checkConnection(!0).flatMap(function(i){return y.Observable.ajax({method:"POST",url:"".concat(n.domain,"/conversations/").concat(n.conversationId,"/activities"),body:r,timeout:C,headers:U({"Content-Type":"application/json"},n.commonHeaders())}).map(function(o){return o.response.id}).catch(function(o){return n.catchPostError(o)})}).catch(function(i){return n.catchExpiredToken(i)}))}},{key:"postMessageWithAttachments",value:function(r){var n=this,i=r.attachments,o=(0,Zy.default)(i.map(function(c){return c.name||"blob"})),a=i.map(function(c,l){return U({},c,{name:o[l]})}),u;return this.checkConnection(!0).flatMap(function(c){return u=new FormData,u.append("activity",new Blob([JSON.stringify(U({},r,{attachments:a.map(function(l){var f=l.contentUrl,h=(0,zy.default)(l,["contentUrl"]);return U({},h)})}))],{type:"application/vnd.microsoft.activity"})),y.Observable.from(a).flatMap(function(l){return y.Observable.ajax({method:"GET",url:l.contentUrl,responseType:"arraybuffer"}).do(function(f){return u.append("file",new Blob([f.response],{type:l.contentType}),l.name)})}).count()}).flatMap(function(c){return y.Observable.ajax({method:"POST",url:"".concat(n.domain,"/conversations/").concat(n.conversationId,"/upload?userId=").concat(r.from.id),body:u,timeout:C,headers:U({},n.commonHeaders())}).map(function(l){return l.response.id}).catch(function(l){return n.catchPostError(l)})}).catch(function(c){return n.catchPostError(c)})}},{key:"catchPostError",value:function(r){if(r.status===403)this.expiredToken();else if(r.status>=400&&r.status<500)return y.Observable.throw(r);return y.Observable.of("retry")}},{key:"catchExpiredToken",value:function(r){return r===r_?y.Observable.of("retry"):y.Observable.throw(r)}},{key:"pollingGetActivity$",value:function(){var r=this,n=y.Observable.create(function(i){var o=new Fa.BehaviorSubject({});o.subscribe(function(){if(r.connectionStatus$.getValue()===w.Online){var a=Date.now();y.Observable.ajax({headers:U({Accept:"application/json"},r.commonHeaders()),method:"GET",url:"".concat(r.domain,"/conversations/").concat(r.conversationId,"/activities?watermark=").concat(r.watermark),timeout:C}).subscribe(function(u){i.next(u),setTimeout(function(){return o.next(null)},Math.max(0,r.pollingInterval-Date.now()+a))},function(u){switch(u.status){case 403:r.connectionStatus$.next(w.ExpiredToken),setTimeout(function(){return o.next(null)},r.pollingInterval);break;case 404:r.connectionStatus$.next(w.Ended);break;default:i.error(u);break}})}})});return this.checkConnection().flatMap(function(i){return n.catch(function(){return y.Observable.empty()}).map(function(o){return o.response}).flatMap(function(o){return r.observableFromActivityGroup(o)})})}},{key:"observableFromActivityGroup",value:function(r){return r.watermark&&(this.watermark=r.watermark),y.Observable.from(r.activities)}},{key:"webSocketActivity$",value:function(){var r=this;return this.checkConnection().flatMap(function(n){return r.observableWebSocket().retryWhen(function(i){return i.delay(r.getRetryDelay()).mergeMap(function(o){return r.reconnectToConversation()})})}).flatMap(function(n){return r.observableFromActivityGroup(n)})}},{key:"getRetryDelay",value:function(){return Math.floor(3e3+Math.random()*12e3)}},{key:"observableWebSocket",value:function(){var r=this;return y.Observable.create(function(n){G.log("creating WebSocket",r.streamUrl);var i=new WebSocket(r.streamUrl),o;return i.onopen=function(a){G.log("WebSocket open",a),o=y.Observable.interval(C).subscribe(function(u){try{i.send("")}catch(c){G.log("Ping error",c)}})},i.onclose=function(a){G.log("WebSocket close",a),o&&o.unsubscribe(),n.error(a)},i.onmessage=function(a){return a.data&&n.next(JSON.parse(a.data))},function(){(i.readyState===0||i.readyState===1)&&i.close()}})}},{key:"reconnectToConversation",value:function(){var r=this;return this.checkConnection(!0).flatMap(function(n){return y.Observable.ajax({method:"GET",url:"".concat(r.domain,"/conversations/").concat(r.conversationId,"?watermark=").concat(r.watermark),timeout:C,headers:U({Accept:"application/json"},r.commonHeaders())}).do(function(i){r.secret||(r.token=i.response.token),r.streamUrl=i.response.streamUrl}).map(function(i){return null}).retryWhen(function(i){return i.mergeMap(function(o){if(o.status===403)r.expiredToken();else if(o.status===404)return y.Observable.throw($t);return y.Observable.of(o)}).delay(C).take(Bt)})})}},{key:"commonHeaders",value:function(){return{Authorization:"Bearer ".concat(this.token),"x-ms-bot-agent":this._botAgent}}},{key:"getBotAgent",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n="directlinejs";return r&&(n+="; ".concat(r)),"".concat(Qy," (").concat(n,")")}}]),t}();Z.DirectLine=n_});var Wa=s((HE,Ga)=>{Ga.exports=function(t){var e="Uint32Array"in t,r=t.crypto||t.msCrypto,n=r&&typeof r.getRandomValues=="function",i=e&&n;if(!i)return Math.random;var o=new Uint32Array(1),a=Math.pow(2,32);function u(){return r.getRandomValues(o),o[0]/a}return u.cryptographic=!0,u}(typeof self<"u"?self:window)});var _=s((zE,Va)=>{var Pr=function(t){return t&&t.Math==Math&&t};Va.exports=Pr(typeof globalThis=="object"&&globalThis)||Pr(typeof window=="object"&&window)||Pr(typeof self=="object"&&self)||Pr(typeof global=="object"&&global)||function(){return this}()||Function("return this")()});var R=s((XE,Ka)=>{Ka.exports=function(t){try{return!!t()}catch{return!0}}});var k=s((JE,Ya)=>{var i_=R();Ya.exports=!i_(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var Ar=s((ZE,Ha)=>{var o_=R();Ha.exports=!o_(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var B=s((QE,za)=>{var s_=Ar(),Cr=Function.prototype.call;za.exports=s_?Cr.bind(Cr):function(){return Cr.apply(Cr,arguments)}});var Qa=s(Za=>{"use strict";var Xa={}.propertyIsEnumerable,Ja=Object.getOwnPropertyDescriptor,a_=Ja&&!Xa.call({1:2},1);Za.f=a_?function(e){var r=Ja(this,e);return!!r&&r.enumerable}:Xa});var Rr=s((rT,eu)=>{eu.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var j=s((tT,nu)=>{var ru=Ar(),tu=Function.prototype,u_=tu.bind,Gt=tu.call,c_=ru&&u_.bind(Gt,Gt);nu.exports=ru?function(t){return t&&c_(t)}:function(t){return t&&function(){return Gt.apply(t,arguments)}}});var Wt=s((nT,ou)=>{var iu=j(),l_=iu({}.toString),f_=iu("".slice);ou.exports=function(t){return f_(l_(t),8,-1)}});var au=s((iT,su)=>{var v_=_(),h_=j(),p_=R(),b_=Wt(),Vt=v_.Object,d_=h_("".split);su.exports=p_(function(){return!Vt("z").propertyIsEnumerable(0)})?function(t){return b_(t)=="String"?d_(t,""):Vt(t)}:Vt});var kr=s((oT,uu)=>{var y_=_(),__=y_.TypeError;uu.exports=function(t){if(t==null)throw __("Can't call method on "+t);return t}});var ce=s((sT,cu)=>{var m_=au(),O_=kr();cu.exports=function(t){return m_(O_(t))}});var g=s((aT,lu)=>{lu.exports=function(t){return typeof t=="function"}});var Q=s((uT,fu)=>{var S_=g();fu.exports=function(t){return typeof t=="object"?t!==null:S_(t)}});var W=s((cT,vu)=>{var Kt=_(),w_=g(),g_=function(t){return w_(t)?t:void 0};vu.exports=function(t,e){return arguments.length<2?g_(Kt[t]):Kt[t]&&Kt[t][e]}});var Lr=s((lT,hu)=>{var q_=j();hu.exports=q_({}.isPrototypeOf)});var bu=s((fT,pu)=>{var x_=W();pu.exports=x_("navigator","userAgent")||""});var wu=s((vT,Su)=>{var Ou=_(),Yt=bu(),du=Ou.process,yu=Ou.Deno,_u=du&&du.versions||yu&&yu.version,mu=_u&&_u.v8,L,Dr;mu&&(L=mu.split("."),Dr=L[0]>0&&L[0]<4?1:+(L[0]+L[1]));!Dr&&Yt&&(L=Yt.match(/Edge\/(\d+)/),(!L||L[1]>=74)&&(L=Yt.match(/Chrome\/(\d+)/),L&&(Dr=+L[1])));Su.exports=Dr});var Ht=s((hT,qu)=>{var gu=wu(),E_=R();qu.exports=!!Object.getOwnPropertySymbols&&!E_(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&gu&&gu<41})});var zt=s((pT,xu)=>{var T_=Ht();xu.exports=T_&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var Xt=s((bT,Eu)=>{var j_=_(),I_=W(),P_=g(),A_=Lr(),C_=zt(),R_=j_.Object;Eu.exports=C_?function(t){return typeof t=="symbol"}:function(t){var e=I_("Symbol");return P_(e)&&A_(e.prototype,R_(t))}});var Mr=s((dT,Tu)=>{var k_=_(),L_=k_.String;Tu.exports=function(t){try{return L_(t)}catch{return"Object"}}});var Ie=s((yT,ju)=>{var D_=_(),M_=g(),F_=Mr(),N_=D_.TypeError;ju.exports=function(t){if(M_(t))return t;throw N_(F_(t)+" is not a function")}});var le=s((_T,Iu)=>{var U_=Ie();Iu.exports=function(t,e){var r=t[e];return r==null?void 0:U_(r)}});var Au=s((mT,Pu)=>{var B_=_(),Jt=B(),Zt=g(),Qt=Q(),$_=B_.TypeError;Pu.exports=function(t,e){var r,n;if(e==="string"&&Zt(r=t.toString)&&!Qt(n=Jt(r,t))||Zt(r=t.valueOf)&&!Qt(n=Jt(r,t))||e!=="string"&&Zt(r=t.toString)&&!Qt(n=Jt(r,t)))return n;throw $_("Can't convert object to primitive value")}});var Pe=s((OT,Cu)=>{Cu.exports=!1});var Fr=s((ST,ku)=>{var Ru=_(),G_=Object.defineProperty;ku.exports=function(t,e){try{G_(Ru,t,{value:e,configurable:!0,writable:!0})}catch{Ru[t]=e}return e}});var Nr=s((wT,Du)=>{var W_=_(),V_=Fr(),Lu="__core-js_shared__",K_=W_[Lu]||V_(Lu,{});Du.exports=K_});var en=s((gT,Fu)=>{var Y_=Pe(),Mu=Nr();(Fu.exports=function(t,e){return Mu[t]||(Mu[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.22.7",mode:Y_?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.7/LICENSE",source:"https://github.com/zloirock/core-js"})});var rn=s((qT,Nu)=>{var H_=_(),z_=kr(),X_=H_.Object;Nu.exports=function(t){return X_(z_(t))}});var D=s((xT,Uu)=>{var J_=j(),Z_=rn(),Q_=J_({}.hasOwnProperty);Uu.exports=Object.hasOwn||function(e,r){return Q_(Z_(e),r)}});var tn=s((ET,Bu)=>{var em=j(),rm=0,tm=Math.random(),nm=em(1 .toString);Bu.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+nm(++rm+tm,36)}});var x=s((TT,Ku)=>{var im=_(),om=en(),$u=D(),sm=tn(),Gu=Ht(),Vu=zt(),fe=om("wks"),ee=im.Symbol,Wu=ee&&ee.for,am=Vu?ee:ee&&ee.withoutSetter||sm;Ku.exports=function(t){if(!$u(fe,t)||!(Gu||typeof fe[t]=="string")){var e="Symbol."+t;Gu&&$u(ee,t)?fe[t]=ee[t]:Vu&&Wu?fe[t]=Wu(e):fe[t]=am(e)}return fe[t]}});var Xu=s((jT,zu)=>{var um=_(),cm=B(),Yu=Q(),Hu=Xt(),lm=le(),fm=Au(),vm=x(),hm=um.TypeError,pm=vm("toPrimitive");zu.exports=function(t,e){if(!Yu(t)||Hu(t))return t;var r=lm(t,pm),n;if(r){if(e===void 0&&(e="default"),n=cm(r,t,e),!Yu(n)||Hu(n))return n;throw hm("Can't convert object to primitive value")}return e===void 0&&(e="number"),fm(t,e)}});var nn=s((IT,Ju)=>{var bm=Xu(),dm=Xt();Ju.exports=function(t){var e=bm(t,"string");return dm(e)?e:e+""}});var Ur=s((PT,Qu)=>{var ym=_(),Zu=Q(),on=ym.document,_m=Zu(on)&&Zu(on.createElement);Qu.exports=function(t){return _m?on.createElement(t):{}}});var sn=s((AT,ec)=>{var mm=k(),Om=R(),Sm=Ur();ec.exports=!mm&&!Om(function(){return Object.defineProperty(Sm("div"),"a",{get:function(){return 7}}).a!=7})});var an=s(tc=>{var wm=k(),gm=B(),qm=Qa(),xm=Rr(),Em=ce(),Tm=nn(),jm=D(),Im=sn(),rc=Object.getOwnPropertyDescriptor;tc.f=wm?rc:function(e,r){if(e=Em(e),r=Tm(r),Im)try{return rc(e,r)}catch{}if(jm(e,r))return xm(!gm(qm.f,e,r),e[r])}});var un=s((RT,nc)=>{var Pm=k(),Am=R();nc.exports=Pm&&Am(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var M=s((kT,oc)=>{var ic=_(),Cm=Q(),Rm=ic.String,km=ic.TypeError;oc.exports=function(t){if(Cm(t))return t;throw km(Rm(t)+" is not an object")}});var $=s(ac=>{var Lm=_(),Dm=k(),Mm=sn(),Fm=un(),Br=M(),sc=nn(),Nm=Lm.TypeError,cn=Object.defineProperty,Um=Object.getOwnPropertyDescriptor,ln="enumerable",fn="configurable",vn="writable";ac.f=Dm?Fm?function(e,r,n){if(Br(e),r=sc(r),Br(n),typeof e=="function"&&r==="prototype"&&"value"in n&&vn in n&&!n[vn]){var i=Um(e,r);i&&i[vn]&&(e[r]=n.value,n={configurable:fn in n?n[fn]:i[fn],enumerable:ln in n?n[ln]:i[ln],writable:!1})}return cn(e,r,n)}:cn:function(e,r,n){if(Br(e),r=sc(r),Br(n),Mm)try{return cn(e,r,n)}catch{}if("get"in n||"set"in n)throw Nm("Accessors not supported");return"value"in n&&(e[r]=n.value),e}});var ve=s((DT,uc)=>{var Bm=k(),$m=$(),Gm=Rr();uc.exports=Bm?function(t,e,r){return $m.f(t,e,Gm(1,r))}:function(t,e,r){return t[e]=r,t}});var bn=s((MT,lc)=>{var hn=k(),Wm=D(),cc=Function.prototype,Vm=hn&&Object.getOwnPropertyDescriptor,pn=Wm(cc,"name"),Km=pn&&function(){}.name==="something",Ym=pn&&(!hn||hn&&Vm(cc,"name").configurable);lc.exports={EXISTS:pn,PROPER:Km,CONFIGURABLE:Ym}});var $r=s((FT,fc)=>{var Hm=j(),zm=g(),dn=Nr(),Xm=Hm(Function.toString);zm(dn.inspectSource)||(dn.inspectSource=function(t){return Xm(t)});fc.exports=dn.inspectSource});var pc=s((NT,hc)=>{var Jm=_(),Zm=g(),Qm=$r(),vc=Jm.WeakMap;hc.exports=Zm(vc)&&/native code/.test(Qm(vc))});var Gr=s((UT,dc)=>{var eO=en(),rO=tn(),bc=eO("keys");dc.exports=function(t){return bc[t]||(bc[t]=rO(t))}});var Wr=s((BT,yc)=>{yc.exports={}});var Ce=s(($T,wc)=>{var tO=pc(),Sc=_(),yn=j(),nO=Q(),iO=ve(),_n=D(),mn=Nr(),oO=Gr(),sO=Wr(),_c="Object already initialized",Sn=Sc.TypeError,aO=Sc.WeakMap,Vr,Ae,Kr,uO=function(t){return Kr(t)?Ae(t):Vr(t,{})},cO=function(t){return function(e){var r;if(!nO(e)||(r=Ae(e)).type!==t)throw Sn("Incompatible receiver, "+t+" required");return r}};tO||mn.state?(K=mn.state||(mn.state=new aO),mc=yn(K.get),On=yn(K.has),Oc=yn(K.set),Vr=function(t,e){if(On(K,t))throw new Sn(_c);return e.facade=t,Oc(K,t,e),e},Ae=function(t){return mc(K,t)||{}},Kr=function(t){return On(K,t)}):(re=oO("state"),sO[re]=!0,Vr=function(t,e){if(_n(t,re))throw new Sn(_c);return e.facade=t,iO(t,re,e),e},Ae=function(t){return _n(t,re)?t[re]:{}},Kr=function(t){return _n(t,re)});var K,mc,On,Oc,re;wc.exports={set:Vr,get:Ae,has:Kr,enforce:uO,getterFor:cO}});var wn=s((GT,xc)=>{var lO=R(),fO=g(),Yr=D(),gc=k(),vO=bn().CONFIGURABLE,hO=$r(),qc=Ce(),pO=qc.enforce,bO=qc.get,Hr=Object.defineProperty,dO=gc&&!lO(function(){return Hr(function(){},"length",{value:8}).length!==8}),yO=String(String).split("String"),_O=xc.exports=function(t,e,r){String(e).slice(0,7)==="Symbol("&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Yr(t,"name")||vO&&t.name!==e)&&Hr(t,"name",{value:e,configurable:!0}),dO&&r&&Yr(r,"arity")&&t.length!==r.arity&&Hr(t,"length",{value:r.arity});try{r&&Yr(r,"constructor")&&r.constructor?gc&&Hr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=pO(t);return Yr(n,"source")||(n.source=yO.join(typeof e=="string"?e:"")),t};Function.prototype.toString=_O(function(){return fO(this)&&bO(this).source||hO(this)},"toString")});var te=s((WT,Ec)=>{var mO=g(),OO=ve(),SO=wn(),wO=Fr();Ec.exports=function(t,e,r,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:e;return mO(r)&&SO(r,o,n),n.global?i?t[e]=r:wO(e,r):(n.unsafe?t[e]&&(i=!0):delete t[e],i?t[e]=r:OO(t,e,r)),t}});var jc=s((VT,Tc)=>{var gO=Math.ceil,qO=Math.floor;Tc.exports=Math.trunc||function(e){var r=+e;return(r>0?qO:gO)(r)}});var zr=s((KT,Ic)=>{var xO=jc();Ic.exports=function(t){var e=+t;return e!==e||e===0?0:xO(e)}});var Ac=s((YT,Pc)=>{var EO=zr(),TO=Math.max,jO=Math.min;Pc.exports=function(t,e){var r=EO(t);return r<0?TO(r+e,0):jO(r,e)}});var Rc=s((HT,Cc)=>{var IO=zr(),PO=Math.min;Cc.exports=function(t){return t>0?PO(IO(t),9007199254740991):0}});var gn=s((zT,kc)=>{var AO=Rc();kc.exports=function(t){return AO(t.length)}});var Mc=s((XT,Dc)=>{var CO=ce(),RO=Ac(),kO=gn(),Lc=function(t){return function(e,r,n){var i=CO(e),o=kO(i),a=RO(n,o),u;if(t&&r!=r){for(;o>a;)if(u=i[a++],u!=u)return!0}else for(;o>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return!t&&-1}};Dc.exports={includes:Lc(!0),indexOf:Lc(!1)}});var xn=s((JT,Nc)=>{var LO=j(),qn=D(),DO=ce(),MO=Mc().indexOf,FO=Wr(),Fc=LO([].push);Nc.exports=function(t,e){var r=DO(t),n=0,i=[],o;for(o in r)!qn(FO,o)&&qn(r,o)&&Fc(i,o);for(;e.length>n;)qn(r,o=e[n++])&&(~MO(i,o)||Fc(i,o));return i}});var Xr=s((ZT,Uc)=>{Uc.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var $c=s(Bc=>{var NO=xn(),UO=Xr(),BO=UO.concat("length","prototype");Bc.f=Object.getOwnPropertyNames||function(e){return NO(e,BO)}});var Wc=s(Gc=>{Gc.f=Object.getOwnPropertySymbols});var Kc=s((rj,Vc)=>{var $O=W(),GO=j(),WO=$c(),VO=Wc(),KO=M(),YO=GO([].concat);Vc.exports=$O("Reflect","ownKeys")||function(e){var r=WO.f(KO(e)),n=VO.f;return n?YO(r,n(e)):r}});var zc=s((tj,Hc)=>{var Yc=D(),HO=Kc(),zO=an(),XO=$();Hc.exports=function(t,e,r){for(var n=HO(e),i=XO.f,o=zO.f,a=0;a<n.length;a++){var u=n[a];!Yc(t,u)&&!(r&&Yc(r,u))&&i(t,u,o(e,u))}}});var Jc=s((nj,Xc)=>{var JO=R(),ZO=g(),QO=/#|\.prototype\./,Re=function(t,e){var r=rS[eS(t)];return r==nS?!0:r==tS?!1:ZO(e)?JO(e):!!e},eS=Re.normalize=function(t){return String(t).replace(QO,".").toLowerCase()},rS=Re.data={},tS=Re.NATIVE="N",nS=Re.POLYFILL="P";Xc.exports=Re});var ke=s((ij,Zc)=>{var En=_(),iS=an().f,oS=ve(),sS=te(),aS=Fr(),uS=zc(),cS=Jc();Zc.exports=function(t,e){var r=t.target,n=t.global,i=t.stat,o,a,u,c,l,f;if(n?a=En:i?a=En[r]||aS(r,{}):a=(En[r]||{}).prototype,a)for(u in e){if(l=e[u],t.dontCallGetSet?(f=iS(a,u),c=f&&f.value):c=a[u],o=cS(n?u:r+(i?".":"#")+u,t.forced),!o&&c!==void 0){if(typeof l==typeof c)continue;uS(l,c)}(t.sham||c&&c.sham)&&oS(l,"sham",!0),sS(a,u,l,t)}}});var rl=s((oj,el)=>{"use strict";var lS=W(),fS=$(),vS=x(),hS=k(),Qc=vS("species");el.exports=function(t){var e=lS(t),r=fS.f;hS&&e&&!e[Qc]&&r(e,Qc,{configurable:!0,get:function(){return this}})}});var nl=s((sj,tl)=>{var pS=_(),bS=Lr(),dS=pS.TypeError;tl.exports=function(t,e){if(bS(e,t))return t;throw dS("Incorrect invocation")}});var ol=s((aj,il)=>{var yS=te();il.exports=function(t,e,r){for(var n in e)yS(t,n,e[n],r);return t}});var ul=s((uj,al)=>{var sl=wn(),_S=$();al.exports=function(t,e,r){return r.get&&sl(r.get,e,{getter:!0}),r.set&&sl(r.set,e,{setter:!0}),_S.f(t,e,r)}});var ll=s((cj,cl)=>{var mS=_();cl.exports=function(t,e){var r=mS.console;r&&r.error&&(arguments.length==1?r.error(t):r.error(t,e))}});var Jr=s((lj,vl)=>{var OS=_(),Le=g(),SS=x(),wS=SS("observable"),De=OS.Observable,fl=De&&De.prototype;vl.exports=!Le(De)||!Le(De.from)||!Le(De.of)||!Le(fl.subscribe)||!Le(fl[wS])});var wl=s(()=>{"use strict";var gS=ke(),Zr=B(),Me=k(),qS=rl(),hl=Ie(),pl=g(),xS=M(),ES=Q(),TS=nl(),Qr=le(),jS=te(),Tn=ol(),bl=ul(),he=ll(),IS=x(),dl=Ce(),PS=Jr(),AS=IS("observable"),jn="Observable",yl="Subscription",_l="SubscriptionObserver",In=dl.getterFor,Pn=dl.set,CS=In(jn),ml=In(yl),et=In(_l),Ol=function(t){this.observer=xS(t),this.cleanup=void 0,this.subscriptionObserver=void 0};Ol.prototype={type:yl,clean:function(){var t=this.cleanup;if(t){this.cleanup=void 0;try{t()}catch(e){he(e)}}},close:function(){if(!Me){var t=this.facade,e=this.subscriptionObserver;t.closed=!0,e&&(e.closed=!0)}this.observer=void 0},isClosed:function(){return this.observer===void 0}};var An=function(t,e){var r=Pn(this,new Ol(t)),n;Me||(this.closed=!1);try{(n=Qr(t,"start"))&&Zr(n,t,this)}catch(u){he(u)}if(!r.isClosed()){var i=r.subscriptionObserver=new Cn(r);try{var o=e(i),a=o;o!=null&&(r.cleanup=pl(o.unsubscribe)?function(){a.unsubscribe()}:hl(o))}catch(u){i.error(u);return}r.isClosed()&&r.clean()}};An.prototype=Tn({},{unsubscribe:function(){var e=ml(this);e.isClosed()||(e.close(),e.clean())}});Me&&bl(An.prototype,"closed",{configurable:!0,get:function(){return ml(this).isClosed()}});var Cn=function(t){Pn(this,{type:_l,subscriptionState:t}),Me||(this.closed=!1)};Cn.prototype=Tn({},{next:function(e){var r=et(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=Qr(n,"next");i&&Zr(i,n,e)}catch(o){he(o)}}},error:function(e){var r=et(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=Qr(n,"error");i?Zr(i,n,e):he(e)}catch(o){he(o)}r.clean()}},complete:function(){var e=et(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=Qr(r,"complete");n&&Zr(n,r)}catch(i){he(i)}e.clean()}}});Me&&bl(Cn.prototype,"closed",{configurable:!0,get:function(){return et(this).subscriptionState.isClosed()}});var Sl=function(e){TS(this,Rn),Pn(this,{type:jn,subscriber:hl(e)})},Rn=Sl.prototype;Tn(Rn,{subscribe:function(e){var r=arguments.length;return new An(pl(e)?{next:e,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:ES(e)?e:{},CS(this).subscriber)}});jS(Rn,AS,function(){return this});gS({global:!0,constructor:!0,forced:PS},{Observable:Sl});qS(jn)});var rt=s((hj,ql)=>{var RS=x(),kS=RS("toStringTag"),gl={};gl[kS]="z";ql.exports=String(gl)==="[object z]"});var Fe=s((pj,xl)=>{var LS=_(),DS=rt(),MS=g(),tt=Wt(),FS=x(),NS=FS("toStringTag"),US=LS.Object,BS=tt(function(){return arguments}())=="Arguments",$S=function(t,e){try{return t[e]}catch{}};xl.exports=DS?tt:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=$S(e=US(t),NS))=="string"?r:BS?tt(e):(n=tt(e))=="Object"&&MS(e.callee)?"Arguments":n}});var Ln=s((bj,Pl)=>{var GS=j(),WS=R(),El=g(),VS=Fe(),KS=W(),YS=$r(),Tl=function(){},HS=[],jl=KS("Reflect","construct"),kn=/^\s*(?:class|function)\b/,zS=GS(kn.exec),XS=!kn.exec(Tl),Ne=function(e){if(!El(e))return!1;try{return jl(Tl,HS,e),!0}catch{return!1}},Il=function(e){if(!El(e))return!1;switch(VS(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return XS||!!zS(kn,YS(e))}catch{return!0}};Il.sham=!0;Pl.exports=!jl||WS(function(){var t;return Ne(Ne.call)||!Ne(Object)||!Ne(function(){t=!0})||t})?Il:Ne});var pe=s((dj,Al)=>{Al.exports={}});var Dn=s((yj,Rl)=>{var JS=Fe(),Cl=le(),ZS=pe(),QS=x(),ew=QS("iterator");Rl.exports=function(t){if(t!=null)return Cl(t,ew)||Cl(t,"@@iterator")||ZS[JS(t)]}});var Mn=s((_j,kl)=>{var rw=_(),tw=B(),nw=Ie(),iw=M(),ow=Mr(),sw=Dn(),aw=rw.TypeError;kl.exports=function(t,e){var r=arguments.length<2?sw(t):e;if(nw(r))return iw(tw(r,t));throw aw(ow(t)+" is not iterable")}});var Ml=s((mj,Dl)=>{var Ll=j(),uw=Ie(),cw=Ar(),lw=Ll(Ll.bind);Dl.exports=function(t,e){return uw(t),e===void 0?t:cw?lw(t,e):function(){return t.apply(e,arguments)}}});var Nl=s((Oj,Fl)=>{var fw=x(),vw=pe(),hw=fw("iterator"),pw=Array.prototype;Fl.exports=function(t){return t!==void 0&&(vw.Array===t||pw[hw]===t)}});var $l=s((Sj,Bl)=>{var bw=B(),Ul=M(),dw=le();Bl.exports=function(t,e,r){var n,i;Ul(t);try{if(n=dw(t,"return"),!n){if(e==="throw")throw r;return r}n=bw(n,t)}catch(o){i=!0,n=o}if(e==="throw")throw r;if(i)throw n;return Ul(n),r}});var Yl=s((wj,Kl)=>{var yw=_(),_w=Ml(),mw=B(),Ow=M(),Sw=Mr(),ww=Nl(),gw=gn(),Gl=Lr(),qw=Mn(),xw=Dn(),Wl=$l(),Ew=yw.TypeError,nt=function(t,e){this.stopped=t,this.result=e},Vl=nt.prototype;Kl.exports=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),o=!!(r&&r.IS_ITERATOR),a=!!(r&&r.INTERRUPTED),u=_w(e,n),c,l,f,h,v,b,p,P=function(m){return c&&Wl(c,"normal",m),new nt(!0,m)},F=function(m){return i?(Ow(m),a?u(m[0],m[1],P):u(m[0],m[1])):a?u(m,P):u(m)};if(o)c=t;else{if(l=xw(t),!l)throw Ew(Sw(t)+" is not iterable");if(ww(l)){for(f=0,h=gw(t);h>f;f++)if(v=F(t[f]),v&&Gl(Vl,v))return v;return new nt(!1)}c=qw(t,l)}for(b=c.next;!(p=mw(b,c)).done;){try{v=F(p.value)}catch(m){Wl(c,"throw",m)}if(typeof v=="object"&&v&&Gl(Vl,v))return v}return new nt(!1)}});var zl=s(()=>{"use strict";var Tw=ke(),jw=W(),Iw=B(),Hl=M(),Pw=Ln(),Aw=Mn(),Cw=le(),Rw=Yl(),kw=x(),Lw=Jr(),Dw=kw("observable");Tw({target:"Observable",stat:!0,forced:Lw},{from:function(e){var r=Pw(this)?this:jw("Observable"),n=Cw(Hl(e),Dw);if(n){var i=Hl(Iw(n,e));return i.constructor===r?i:new r(function(a){return i.subscribe(a)})}var o=Aw(e);return new r(function(a){Rw(o,function(u,c){if(a.next(u),a.closed)return c()},{IS_ITERATOR:!0,INTERRUPTED:!0}),a.complete()})}})});var Jl=s(()=>{"use strict";var Mw=ke(),Xl=W(),Fw=Ln(),Nw=Jr(),Uw=Xl("Array");Mw({target:"Observable",stat:!0,forced:Nw},{of:function(){for(var e=Fw(this)?this:Xl("Observable"),r=arguments.length,n=Uw(r),i=0;i<r;)n[i]=arguments[i++];return new e(function(o){for(var a=0;a<r;a++)if(o.next(n[a]),o.closed)return;o.complete()})}})});var Zl=s(()=>{wl();zl();Jl()});var Fn=s((Ij,Ql)=>{var Bw=_();Ql.exports=Bw});var rf=s(ef=>{var $w=x();ef.f=$w});var of=s((Aj,nf)=>{var tf=Fn(),Gw=D(),Ww=rf(),Vw=$().f;nf.exports=function(t){var e=tf.Symbol||(tf.Symbol={});Gw(e,t)||Vw(e,t,{value:Ww.f(t)})}});var sf=s(()=>{var Kw=of();Kw("observable")});var uf=s((kj,af)=>{"use strict";var Yw=rt(),Hw=Fe();af.exports=Yw?{}.toString:function(){return"[object "+Hw(this)+"]"}});var cf=s(()=>{var zw=rt(),Xw=te(),Jw=uf();zw||Xw(Object.prototype,"toString",Jw,{unsafe:!0})});var Nn=s((Mj,lf)=>{var Zw=_(),Qw=Fe(),eg=Zw.String;lf.exports=function(t){if(Qw(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return eg(t)}});var pf=s((Fj,hf)=>{var Un=j(),rg=zr(),tg=Nn(),ng=kr(),ig=Un("".charAt),ff=Un("".charCodeAt),og=Un("".slice),vf=function(t){return function(e,r){var n=tg(ng(e)),i=rg(r),o=n.length,a,u;return i<0||i>=o?t?"":void 0:(a=ff(n,i),a<55296||a>56319||i+1===o||(u=ff(n,i+1))<56320||u>57343?t?ig(n,i):a:t?og(n,i,i+2):(a-55296<<10)+(u-56320)+65536)}};hf.exports={codeAt:vf(!1),charAt:vf(!0)}});var df=s((Nj,bf)=>{var sg=xn(),ag=Xr();bf.exports=Object.keys||function(e){return sg(e,ag)}});var _f=s(yf=>{var ug=k(),cg=un(),lg=$(),fg=M(),vg=ce(),hg=df();yf.f=ug&&!cg?Object.defineProperties:function(e,r){fg(e);for(var n=vg(r),i=hg(r),o=i.length,a=0,u;o>a;)lg.f(e,u=i[a++],n[u]);return e}});var Of=s((Bj,mf)=>{var pg=W();mf.exports=pg("document","documentElement")});var st=s(($j,Tf)=>{var bg=M(),dg=_f(),Sf=Xr(),yg=Wr(),_g=Of(),mg=Ur(),Og=Gr(),wf=">",gf="<",$n="prototype",Gn="script",xf=Og("IE_PROTO"),Bn=function(){},Ef=function(t){return gf+Gn+wf+t+gf+"/"+Gn+wf},qf=function(t){t.write(Ef("")),t.close();var e=t.parentWindow.Object;return t=null,e},Sg=function(){var t=mg("iframe"),e="java"+Gn+":",r;return t.style.display="none",_g.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(Ef("document.F=Object")),r.close(),r.F},it,ot=function(){try{it=new ActiveXObject("htmlfile")}catch{}ot=typeof document<"u"?document.domain&&it?qf(it):Sg():qf(it);for(var t=Sf.length;t--;)delete ot[$n][Sf[t]];return ot()};yg[xf]=!0;Tf.exports=Object.create||function(e,r){var n;return e!==null?(Bn[$n]=bg(e),n=new Bn,Bn[$n]=null,n[xf]=e):n=ot(),r===void 0?n:dg.f(n,r)}});var If=s((Gj,jf)=>{var wg=R();jf.exports=!wg(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var Vn=s((Wj,Af)=>{var gg=_(),qg=D(),xg=g(),Eg=rn(),Tg=Gr(),jg=If(),Pf=Tg("IE_PROTO"),Wn=gg.Object,Ig=Wn.prototype;Af.exports=jg?Wn.getPrototypeOf:function(t){var e=Eg(t);if(qg(e,Pf))return e[Pf];var r=e.constructor;return xg(r)&&e instanceof r?r.prototype:e instanceof Wn?Ig:null}});var zn=s((Vj,kf)=>{"use strict";var Pg=R(),Ag=g(),Cg=st(),Cf=Vn(),Rg=te(),kg=x(),Lg=Pe(),Hn=kg("iterator"),Rf=!1,V,Kn,Yn;[].keys&&(Yn=[].keys(),"next"in Yn?(Kn=Cf(Cf(Yn)),Kn!==Object.prototype&&(V=Kn)):Rf=!0);var Dg=V==null||Pg(function(){var t={};return V[Hn].call(t)!==t});Dg?V={}:Lg&&(V=Cg(V));Ag(V[Hn])||Rg(V,Hn,function(){return this});kf.exports={IteratorPrototype:V,BUGGY_SAFARI_ITERATORS:Rf}});var Xn=s((Kj,Df)=>{var Mg=$().f,Fg=D(),Ng=x(),Lf=Ng("toStringTag");Df.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!Fg(t,Lf)&&Mg(t,Lf,{configurable:!0,value:e})}});var Ff=s((Yj,Mf)=>{"use strict";var Ug=zn().IteratorPrototype,Bg=st(),$g=Rr(),Gg=Xn(),Wg=pe(),Vg=function(){return this};Mf.exports=function(t,e,r,n){var i=e+" Iterator";return t.prototype=Bg(Ug,{next:$g(+!n,r)}),Gg(t,i,!1,!0),Wg[i]=Vg,t}});var Bf=s((Hj,Uf)=>{var Nf=_(),Kg=g(),Yg=Nf.String,Hg=Nf.TypeError;Uf.exports=function(t){if(typeof t=="object"||Kg(t))return t;throw Hg("Can't set "+Yg(t)+" as a prototype")}});var Gf=s((zj,$f)=>{var zg=j(),Xg=M(),Jg=Bf();$f.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=zg(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),r(e,[]),t=e instanceof Array}catch{}return function(i,o){return Xg(i),Jg(o),t?r(i,o):i.__proto__=o,i}}():void 0)});var Zn=s((Xj,Qf)=>{"use strict";var Zg=ke(),Qg=B(),at=Pe(),Jf=bn(),eq=g(),rq=Ff(),Wf=Vn(),Vf=Gf(),tq=Xn(),nq=ve(),Jn=te(),iq=x(),Kf=pe(),Zf=zn(),oq=Jf.PROPER,sq=Jf.CONFIGURABLE,Yf=Zf.IteratorPrototype,ut=Zf.BUGGY_SAFARI_ITERATORS,Ue=iq("iterator"),Hf="keys",Be="values",zf="entries",Xf=function(){return this};Qf.exports=function(t,e,r,n,i,o,a){rq(r,e,n);var u=function(m){if(m===i&&v)return v;if(!ut&&m in f)return f[m];switch(m){case Hf:return function(){return new r(this,m)};case Be:return function(){return new r(this,m)};case zf:return function(){return new r(this,m)}}return function(){return new r(this)}},c=e+" Iterator",l=!1,f=t.prototype,h=f[Ue]||f["@@iterator"]||i&&f[i],v=!ut&&h||u(i),b=e=="Array"&&f.entries||h,p,P,F;if(b&&(p=Wf(b.call(new t)),p!==Object.prototype&&p.next&&(!at&&Wf(p)!==Yf&&(Vf?Vf(p,Yf):eq(p[Ue])||Jn(p,Ue,Xf)),tq(p,c,!0,!0),at&&(Kf[c]=Xf))),oq&&i==Be&&h&&h.name!==Be&&(!at&&sq?nq(f,"name",Be):(l=!0,v=function(){return Qg(h,this)})),i)if(P={values:u(Be),keys:o?v:u(Hf),entries:u(zf)},a)for(F in P)(ut||l||!(F in f))&&Jn(f,F,P[F]);else Zg({target:e,proto:!0,forced:ut||l},P);return(!at||a)&&f[Ue]!==v&&Jn(f,Ue,v,{name:i}),Kf[e]=v,P}});var tv=s(()=>{"use strict";var aq=pf().charAt,uq=Nn(),ev=Ce(),cq=Zn(),rv="String Iterator",lq=ev.set,fq=ev.getterFor(rv);cq(String,"String",function(t){lq(this,{type:rv,string:uq(t),index:0})},function(){var e=fq(this),r=e.string,n=e.index,i;return n>=r.length?{value:void 0,done:!0}:(i=aq(r,n),e.index+=i.length,{value:i,done:!1})})});var iv=s((Qj,nv)=>{nv.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var av=s((e0,sv)=>{var vq=Ur(),Qn=vq("span").classList,ov=Qn&&Qn.constructor&&Qn.constructor.prototype;sv.exports=ov===Object.prototype?void 0:ov});var cv=s((r0,uv)=>{var hq=x(),pq=st(),bq=$().f,ei=hq("unscopables"),ri=Array.prototype;ri[ei]==null&&bq(ri,ei,{configurable:!0,value:pq(null)});uv.exports=function(t){ri[ei][t]=!0}});var bv=s((t0,pv)=>{"use strict";var dq=ce(),ti=cv(),lv=pe(),vv=Ce(),yq=$().f,_q=Zn(),mq=Pe(),Oq=k(),hv="Array Iterator",Sq=vv.set,wq=vv.getterFor(hv);pv.exports=_q(Array,"Array",function(t,e){Sq(this,{type:hv,target:dq(t),index:0,kind:e})},function(){var t=wq(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):r=="keys"?{value:n,done:!1}:r=="values"?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}},"values");var fv=lv.Arguments=lv.Array;ti("keys");ti("values");ti("entries");if(!mq&&Oq&&fv.name!=="values")try{yq(fv,"name",{value:"values"})}catch{}});var Sv=s(()=>{var dv=_(),_v=iv(),gq=av(),$e=bv(),ni=ve(),mv=x(),ii=mv("iterator"),yv=mv("toStringTag"),oi=$e.values,Ov=function(t,e){if(t){if(t[ii]!==oi)try{ni(t,ii,oi)}catch{t[ii]=oi}if(t[yv]||ni(t,yv,e),_v[e]){for(var r in $e)if(t[r]!==$e[r])try{ni(t,r,$e[r])}catch{t[r]=$e[r]}}}};for(ct in _v)Ov(dv[ct]&&dv[ct].prototype,ct);var ct;Ov(gq,"DOMTokenList")});var gv=s((o0,wv)=>{Zl();sf();cf();tv();Sv();var qq=Fn();wv.exports=qq.Observable});var xv=s((s0,qv)=>{qv.exports=gv()});var ft=ht($a()),jv=ht(Wa());var lt=ht(xv());function Ev(t){let e=[],r=new lt.default(n=>{let i=t&&t(n);return e.push(n),()=>{removeInline(e,n),i&&i()}});return{complete:()=>e.forEach(n=>n.complete()),error:n=>e.forEach(i=>i.error(n)),next:n=>e.forEach(i=>i.next(n)),observable:r}}function Tv(t){let e=[],r;return new lt.default(n=>(e.push(n),r||(r=t.subscribe({complete:()=>e.forEach(i=>i.complete()),error:i=>e.forEach(o=>o.error(i)),next:i=>e.forEach(o=>o.next(i))})),()=>{let i=e.indexOf(n);~i&&e.splice(i,1),e.length||(r.unsubscribe(),r=null)}))}function si(t){let e=Ev(()=>{e.next(0)}),r=Ev(()=>{(async function(){e.next(1),e.next(2),setTimeout(()=>{t.forEach(n=>r.next(n))},100)})()});return{activity$:Tv(r.observable),connectionStatus$:Tv(e.observable),end:()=>{},postActivity:n=>{let i=Math.random().toString(36).substring(2,7);return r.next({...n,id:i,timestamp:new Date().toISOString()}),lt.default.from([i])}}}function ai(t){return t==="localhost"||(t||"").startsWith("localhost:")}var xq=["flex","z-index","zoom"];function Ge(t,e={},...r){let n=document.createElement(t);if(Object.keys(e).forEach(i=>{let o=e[i];if(i==="className")n.className=e.className;else if(/^on[A-Z]/.test(i))n.addEventListener(i.substr(2).toLowerCase(),o.bind(n));else if(i==="style"){let{style:a}=e,u=[];Object.keys(a).forEach(c=>{let l=a[c],f=c.replace(/[A-Z]/gu,h=>`-${h.toLowerCase()}`);xq.includes(f)&&(l+=""),u.push(`${f}: ${typeof l=="number"?`${l}px`:l}`)}),n.setAttribute(i,u.join("; "))}else typeof o=="boolean"?o&&n.setAttribute(i,""):typeof o<"u"&&n.setAttribute(i,o)}),r.length){let i=document.createDocumentFragment();r.forEach(o=>i.appendChild(typeof o=="string"?document.createTextNode(o):o)),n.appendChild(i)}return n}function ui(t,e){return new Promise((r,n)=>{document.head.appendChild(Ge("script",{async:!0,...e?{crossOrigin:"anonymous",integrity:e}:{},onError:n,onLoad:r,src:t}))})}function ci(t,e){document.head.appendChild(Ge("link",{...e?{crossOrigin:"anonymous",integrity:e}:{},href:t,rel:"stylesheet"}))}async function Y(t){let[e,r]=Array.isArray(t)?t:[t,void 0];return/\.css$/i.test(e)?ci(e,r):await ui(e,r)}async function Eq(){let t=new URLSearchParams(location.search),e=t.get("dd"),r=t.get("p")==="ase",n=t.get("p")==="dls",i=t.get("p")==="rest",o=t.get("p")==="blob",a=t.get("st"),u=t.get("sk"),c=t.get("sr"),l=t.get("blob"),f=t.get("cid"),h=t.get("ds"),v=t.get("dt"),b=t.get("userid"),p=t.get("v")||"latest",P=!r&&!i&&!o,F=e?ai(e)?`http://${e}${r?"/.bot":""}/v3/directline`:`https://${e}${r?"/.bot":""}/v3/directline`:void 0,m,H="https://github.com/microsoft/BotFramework-WebChat/releases/download/daily/webchat-es5.js";if(/^0/.test(p))m=[`https://unpkg.com/botframework-webchat@${p}/botchat.js`,`https://unpkg.com/botframework-webchat@${p}/botchat.css`,`https://unpkg.com/botframework-webchat@${p}/CognitiveServices.js`],console.warn(`Using Web Chat from ${m[0]}`);else if(/^4/.test(p))m=[`https://cdn.botframework.com/botframework-webchat/${p}/webchat-es5.js`],console.warn(`Using Web Chat from ${m[0]}`);else if(p==="dev")m=[H],console.warn(`Using Web Chat from ${H}`);else{try{let S=`${p}directline.js`;await Y(`${S}?_=${Date.now()}`),console.warn(`Using DirectLineJS from ${S}`)}catch{try{let O=`${p}directLine.js`;await Y(`${O}?_=${Date.now()}`),console.warn(`Using DirectLineJS from ${O}`)}catch{}}try{let S=`${p}webchat-es5.js`;await Y(`${S}?_=${Date.now()}`),console.warn(`Using Web Chat from ${S}`)}catch{try{let O=`${p}webchat.js`;await Y(`${O}?_=${Date.now()}`),console.warn(`Using Web Chat from ${O}`)}catch{await Y(H),console.warn(`Using Web Chat from ${H}`)}}if(e&&h&&!v){b=`dl_${(0,jv.default)().toString(36).substr(2,10)}`;let O=await(await fetch(`https://${e}/.bot/v3/directline/tokens/generate`,{body:JSON.stringify({User:{Id:b}}),headers:{authorization:`Bearer ${h}`,"Content-Type":"application/json"},method:"POST"})).json();h=null,v=O.token,f=O.conversationId}}await Promise.all((m||[]).map(S=>Y(S)));let z;if(r){let S;typeof window.DirectLine<"u"?(console.warn("Using DirectLineJS from the bundle of directLine.js."),S=O=>new window.DirectLine.DirectLineStreaming(O)):window.WebChat&&window.WebChat.createDirectLineAppServiceExtension?(console.warn("Using DirectLineJS from the bundle of Web Chat v4."),S=O=>new window.WebChat.createDirectLineAppServiceExtension(O)):(console.warn("Using DirectLineJS from Web Chat Loader."),S=O=>new ft.DirectLineStreaming(O)),z={directLine:await S({conversationId:f,domain:F,token:v})}}else if(n)console.warn("Using Direct Line Speech chat adapter from the bundle of Web Chat v4."),z=await window.WebChat.createDirectLineSpeechAdapters({fetchCredentials:a?{authorizationToken:a,region:c}:{region:c,subscriptionKey:u}});else if(o){console.warn(`Using transcript from ${l}.`);let S=[];try{let O=await fetch(l);if(!O.ok)throw new Error("Failed to load transcript from browser memory.");S=await O.json()}catch{}z={directLine:si(S)}}else{let S;typeof window.DirectLine<"u"?(console.warn("Using DirectLineJS from the bundle of directLine.js."),S=O=>new window.DirectLine.DirectLine(O)):window.WebChat&&window.WebChat.createDirectLine?(console.warn("Using DirectLineJS from the bundle of Web Chat v4."),S=O=>new window.WebChat.createDirectLine(O)):window.BotChat&&window.BotChat.DirectLine?(console.warn("Using DirectLineJS from the bundle of Web Chat v3."),S=O=>new window.BotChat.DirectLine(O)):(console.warn("Using DirectLineJS from Web Chat Loader."),S=O=>new ft.DirectLine(O)),z={directLine:S({domain:F,...v?{token:v}:h?{secret:h}:{},webSocket:P})}}let vt=document.getElementById("webchat");if(/^0/.test(p))vt.style.position="relative",window.BotChat.App({botConnection:z.directLine,speechOptions:{speechRecognizer:new CognitiveServices.SpeechRecognizer({subscriptionKey:u}),speechSynthesizer:new CognitiveServices.SpeechSynthesizer({gender:CognitiveServices.SynthesisGender.Female,subscriptionKey:u,voiceName:"Microsoft Server Speech Text to Speech Voice (en-US, JessaRUS)"})},user:{id:b,name:"You"}},vt);else{if(!n&&(a||u)){let S={};z.webSpeechPonyfillFactory=await window.WebChat.createCognitiveServicesSpeechServicesPonyfillFactory({...S,credentials:()=>({region:c,...a?{authorizationToken:a}:{subscriptionKey:u}})})}window.WebChat.renderWebChat({...z,sendTypingIndicator:!0},vt)}document.querySelector("#webchat > *").focus()}Eq().catch(t=>console.error(t));})();
